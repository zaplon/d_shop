{"version":3,"sources":["../../../../../../../../../../home/jan/workspace/django_shop/shop/staticfiles/bower_components/bootstrap/grunt/change-version.js"],"names":[],"mappings":";AACA;;AAEA;;;;;;;AAMA,IAAI,KAAK,QAAQ,IAAR,CAAT;AACA,IAAI,OAAO,QAAQ,MAAR,CAAX;AACA,IAAI,KAAK,QAAQ,SAAR,CAAT;AACA,GAAG,MAAH,CAAU,KAAV,GAAkB,IAAlB;AACA,IAAI,MAAM,GAAG,GAAb;;AAEA;AACA,OAAO,KAAP,GAAe,UAAU,MAAV,EAAkB;AAC/B,SAAO,OAAO,OAAP,CAAe,sBAAf,EAAuC,MAAvC,CAAP;AACD,CAFD;AAGA,OAAO,gBAAP,GAA0B,UAAU,MAAV,EAAkB;AAC1C,SAAO,OAAO,OAAP,CAAe,MAAf,EAAuB,IAAvB,CAAP;AACD,CAFD;;AAIA,IAAI,UAAU,KAAd;;AAEA,SAAS,SAAT,CAAmB,SAAnB,EAA8B,mBAA9B,EAAmD,YAAnD,EAAiE,OAAjE,EAA0E;AACxE,MAAI,oBAAoB,GAApB,CAAwB,KAAK,KAAL,CAAW,SAAX,EAAsB,IAA9C,CAAJ,EAAyD;AACvD;AACD;AACD,KAAG,OAAH,CAAW,SAAX,EAAsB,UAAU,GAAV,EAAe,KAAf,EAAsB;AAC1C,QAAI,GAAJ,EAAS;AACP,cAAQ,GAAR;AACA;AACD;AACD,UAAM,OAAN,CAAc,UAAU,IAAV,EAAgB;AAC5B,UAAI,WAAW,KAAK,IAAL,CAAU,SAAV,EAAqB,IAArB,CAAf;AACA,SAAG,KAAH,CAAS,QAAT,EAAmB,UAAU,GAAV,EAAe,KAAf,EAAsB;AACvC,YAAI,GAAJ,EAAS;AACP,kBAAQ,QAAR,CAAiB,OAAjB,EAA0B,GAA1B;AACA;AACD;AACD,YAAI,MAAM,cAAN,EAAJ,EAA4B;AAC1B;AACD,SAFD,MAGK,IAAI,MAAM,WAAN,EAAJ,EAAyB;AAC5B,kBAAQ,QAAR,CAAiB,SAAjB,EAA4B,QAA5B,EAAsC,mBAAtC,EAA2D,YAA3D,EAAyE,OAAzE;AACD,SAFI,MAGA,IAAI,MAAM,MAAN,EAAJ,EAAoB;AACvB,kBAAQ,QAAR,CAAiB,YAAjB,EAA+B,QAA/B;AACD;AACF,OAdD;AAeD,KAjBD;AAkBD,GAvBD;AAwBD;;AAED,SAAS,kBAAT,CAA4B,SAA5B,EAAuC,mBAAvC,EAA4D,iBAA5D,EAA+E,QAA/E,EAAyF,WAAzF,EAAsG;AACpG,aAAW,IAAI,MAAJ,CAAW,OAAO,KAAP,CAAa,QAAb,CAAX,EAAmC,GAAnC,CAAX;AACA,gBAAc,OAAO,gBAAP,CAAwB,WAAxB,CAAd;AACA,MAAI,aAAa,CAAC,OAAD,GAAW,UAAU,QAAV,EAAoB;AAC9C,QAAI,kBAAkB,GAAlB,CAAsB,KAAK,KAAL,CAAW,QAAX,EAAqB,GAA3C,CAAJ,EAAqD;AACnD,UAAI,IAAJ,EAAU,QAAV,EAAoB,WAApB,EAAiC,QAAjC;AACD;AACF,GAJgB,GAIb,UAAU,QAAV,EAAoB;AACtB,QAAI,kBAAkB,GAAlB,CAAsB,KAAK,KAAL,CAAW,QAAX,EAAqB,GAA3C,CAAJ,EAAqD;AACnD,cAAQ,GAAR,CAAY,WAAW,QAAvB;AACD,KAFD,MAGK;AACH,cAAQ,GAAR,CAAY,cAAc,QAA1B;AACD;AACF,GAXD;AAYA,YAAU,SAAV,EAAqB,mBAArB,EAA0C,UAA1C,EAAsD,UAAU,GAAV,EAAe;AACnE,YAAQ,KAAR,CAAc,oCAAd;AACA,YAAQ,KAAR,CAAc,GAAd;AACA,YAAQ,IAAR,CAAa,CAAb;AACD,GAJD;AAKD;;AAED,SAAS,IAAT,CAAc,IAAd,EAAoB;AAClB,MAAI,KAAK,MAAL,KAAgB,CAApB,EAAuB;AACrB,YAAQ,KAAR,CAAc,+CAAd;AACA,YAAQ,KAAR,CAAc,gBAAd,EAAgC,IAAhC;AACA,YAAQ,IAAR,CAAa,CAAb;AACD;AACD,MAAI,aAAa,KAAK,CAAL,CAAjB;AACA,MAAI,aAAa,KAAK,CAAL,CAAjB;AACA,MAAI,gBAAgB,IAAI,GAAJ,CAAQ,CAC1B,MAD0B,EAE1B,cAF0B,EAG1B,QAH0B,CAAR,CAApB;AAKA,MAAI,sBAAsB,IAAI,GAAJ,CAAQ;AAChC;AACA,IAFgC,EAGhC,MAHgC,EAIhC,OAJgC,EAKhC,KALgC,EAMhC,OANgC,EAOhC,KAPgC,EAQhC,OARgC,EAShC,MATgC,EAUhC,MAVgC,CAAR,CAA1B;AAYA,qBAAmB,GAAnB,EAAwB,aAAxB,EAAuC,mBAAvC,EAA4D,UAA5D,EAAwE,UAAxE;AACD;;AAED,KAAK,QAAQ,IAAR,CAAa,KAAb,CAAmB,CAAnB,CAAL","file":"change-version-compiled.js","sourcesContent":["#!/usr/bin/env node\n'use strict';\n\n/*!\n * Script to update version number references in the project.\n * Copyright 2015 The Bootstrap Authors\n * Copyright 2015 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n */\nvar fs = require('fs');\nvar path = require('path');\nvar sh = require('shelljs');\nsh.config.fatal = true;\nvar sed = sh.sed;\n\n// Blame TC39... https://github.com/benjamingr/RegExp.escape/issues/37\nRegExp.quote = function (string) {\n  return string.replace(/[-\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n};\nRegExp.quoteReplacement = function (string) {\n  return string.replace(/[$]/g, '$$');\n};\n\nvar DRY_RUN = false;\n\nfunction walkAsync(directory, excludedDirectories, fileCallback, errback) {\n  if (excludedDirectories.has(path.parse(directory).base)) {\n    return;\n  }\n  fs.readdir(directory, function (err, names) {\n    if (err) {\n      errback(err);\n      return;\n    }\n    names.forEach(function (name) {\n      var filepath = path.join(directory, name);\n      fs.lstat(filepath, function (err, stats) {\n        if (err) {\n          process.nextTick(errback, err);\n          return;\n        }\n        if (stats.isSymbolicLink()) {\n          return;\n        }\n        else if (stats.isDirectory()) {\n          process.nextTick(walkAsync, filepath, excludedDirectories, fileCallback, errback);\n        }\n        else if (stats.isFile()) {\n          process.nextTick(fileCallback, filepath);\n        }\n      });\n    });\n  });\n}\n\nfunction replaceRecursively(directory, excludedDirectories, allowedExtensions, original, replacement) {\n  original = new RegExp(RegExp.quote(original), 'g');\n  replacement = RegExp.quoteReplacement(replacement);\n  var updateFile = !DRY_RUN ? function (filepath) {\n    if (allowedExtensions.has(path.parse(filepath).ext)) {\n      sed('-i', original, replacement, filepath);\n    }\n  } : function (filepath) {\n    if (allowedExtensions.has(path.parse(filepath).ext)) {\n      console.log('FILE: ' + filepath);\n    }\n    else {\n      console.log('EXCLUDED:' + filepath);\n    }\n  };\n  walkAsync(directory, excludedDirectories, updateFile, function (err) {\n    console.error('ERROR while traversing directory!:');\n    console.error(err);\n    process.exit(1);\n  });\n}\n\nfunction main(args) {\n  if (args.length !== 2) {\n    console.error('USAGE: change-version old_version new_version');\n    console.error('Got arguments:', args);\n    process.exit(1);\n  }\n  var oldVersion = args[0];\n  var newVersion = args[1];\n  var EXCLUDED_DIRS = new Set([\n    '.git',\n    'node_modules',\n    'vendor'\n  ]);\n  var INCLUDED_EXTENSIONS = new Set([\n    // This extension whitelist is how we avoid modifying binary files\n    '',\n    '.css',\n    '.html',\n    '.js',\n    '.json',\n    '.md',\n    '.scss',\n    '.txt',\n    '.yml'\n  ]);\n  replaceRecursively('.', EXCLUDED_DIRS, INCLUDED_EXTENSIONS, oldVersion, newVersion);\n}\n\nmain(process.argv.slice(2));\n"]}