{"version":3,"sources":["../../../../../../../../../../../home/jan/workspace/django_shop/shop/staticfiles/bower_components/jquery-ui/ui/widgets/sortable.js"],"names":[],"mappings":"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","file":"sortable-compiled.js","sourcesContent":["/*!\n * jQuery UI Sortable 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: Sortable\n//>>group: Interactions\n//>>description: Enables items in a list to be sorted using the mouse.\n//>>docs: http://api.jqueryui.com/sortable/\n//>>demos: http://jqueryui.com/sortable/\n//>>css.structure: ../../themes/base/sortable.css\n\n( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [\n\t\t\t\"jquery\",\n\t\t\t\"./mouse\",\n\t\t\t\"../data\",\n\t\t\t\"../ie\",\n\t\t\t\"../scroll-parent\",\n\t\t\t\"../version\",\n\t\t\t\"../widget\"\n\t\t], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n}( function( $ ) {\n\nreturn $.widget( \"ui.sortable\", $.ui.mouse, {\n\tversion: \"1.12.1\",\n\twidgetEventPrefix: \"sort\",\n\tready: false,\n\toptions: {\n\t\tappendTo: \"parent\",\n\t\taxis: false,\n\t\tconnectWith: false,\n\t\tcontainment: false,\n\t\tcursor: \"auto\",\n\t\tcursorAt: false,\n\t\tdropOnEmpty: true,\n\t\tforcePlaceholderSize: false,\n\t\tforceHelperSize: false,\n\t\tgrid: false,\n\t\thandle: false,\n\t\thelper: \"original\",\n\t\titems: \"> *\",\n\t\topacity: false,\n\t\tplaceholder: false,\n\t\trevert: false,\n\t\tscroll: true,\n\t\tscrollSensitivity: 20,\n\t\tscrollSpeed: 20,\n\t\tscope: \"default\",\n\t\ttolerance: \"intersect\",\n\t\tzIndex: 1000,\n\n\t\t// Callbacks\n\t\tactivate: null,\n\t\tbeforeStop: null,\n\t\tchange: null,\n\t\tdeactivate: null,\n\t\tout: null,\n\t\tover: null,\n\t\treceive: null,\n\t\tremove: null,\n\t\tsort: null,\n\t\tstart: null,\n\t\tstop: null,\n\t\tupdate: null\n\t},\n\n\t_isOverAxis: function( x, reference, size ) {\n\t\treturn ( x >= reference ) && ( x < ( reference + size ) );\n\t},\n\n\t_isFloating: function( item ) {\n\t\treturn ( /left|right/ ).test( item.css( \"float\" ) ) ||\n\t\t\t( /inline|table-cell/ ).test( item.css( \"display\" ) );\n\t},\n\n\t_create: function() {\n\t\tthis.containerCache = {};\n\t\tthis._addClass( \"ui-sortable\" );\n\n\t\t//Get the items\n\t\tthis.refresh();\n\n\t\t//Let's determine the parent's offset\n\t\tthis.offset = this.element.offset();\n\n\t\t//Initialize mouse events for interaction\n\t\tthis._mouseInit();\n\n\t\tthis._setHandleClassName();\n\n\t\t//We're ready to go\n\t\tthis.ready = true;\n\n\t},\n\n\t_setOption: function( key, value ) {\n\t\tthis._super( key, value );\n\n\t\tif ( key === \"handle\" ) {\n\t\t\tthis._setHandleClassName();\n\t\t}\n\t},\n\n\t_setHandleClassName: function() {\n\t\tvar that = this;\n\t\tthis._removeClass( this.element.find( \".ui-sortable-handle\" ), \"ui-sortable-handle\" );\n\t\t$.each( this.items, function() {\n\t\t\tthat._addClass(\n\t\t\t\tthis.instance.options.handle ?\n\t\t\t\t\tthis.item.find( this.instance.options.handle ) :\n\t\t\t\t\tthis.item,\n\t\t\t\t\"ui-sortable-handle\"\n\t\t\t);\n\t\t} );\n\t},\n\n\t_destroy: function() {\n\t\tthis._mouseDestroy();\n\n\t\tfor ( var i = this.items.length - 1; i >= 0; i-- ) {\n\t\t\tthis.items[ i ].item.removeData( this.widgetName + \"-item\" );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t_mouseCapture: function( event, overrideHandle ) {\n\t\tvar currentItem = null,\n\t\t\tvalidHandle = false,\n\t\t\tthat = this;\n\n\t\tif ( this.reverting ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif ( this.options.disabled || this.options.type === \"static\" ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t//We have to refresh the items data once first\n\t\tthis._refreshItems( event );\n\n\t\t//Find out if the clicked node (or one of its parents) is a actual item in this.items\n\t\t$( event.target ).parents().each( function() {\n\t\t\tif ( $.data( this, that.widgetName + \"-item\" ) === that ) {\n\t\t\t\tcurrentItem = $( this );\n\t\t\t\treturn false;\n\t\t\t}\n\t\t} );\n\t\tif ( $.data( event.target, that.widgetName + \"-item\" ) === that ) {\n\t\t\tcurrentItem = $( event.target );\n\t\t}\n\n\t\tif ( !currentItem ) {\n\t\t\treturn false;\n\t\t}\n\t\tif ( this.options.handle && !overrideHandle ) {\n\t\t\t$( this.options.handle, currentItem ).find( \"*\" ).addBack().each( function() {\n\t\t\t\tif ( this === event.target ) {\n\t\t\t\t\tvalidHandle = true;\n\t\t\t\t}\n\t\t\t} );\n\t\t\tif ( !validHandle ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tthis.currentItem = currentItem;\n\t\tthis._removeCurrentsFromItems();\n\t\treturn true;\n\n\t},\n\n\t_mouseStart: function( event, overrideHandle, noActivation ) {\n\n\t\tvar i, body,\n\t\t\to = this.options;\n\n\t\tthis.currentContainer = this;\n\n\t\t//We only need to call refreshPositions, because the refreshItems call has been moved to\n\t\t// mouseCapture\n\t\tthis.refreshPositions();\n\n\t\t//Create and append the visible helper\n\t\tthis.helper = this._createHelper( event );\n\n\t\t//Cache the helper size\n\t\tthis._cacheHelperProportions();\n\n\t\t/*\n\t\t * - Position generation -\n\t\t * This block generates everything position related - it's the core of draggables.\n\t\t */\n\n\t\t//Cache the margins of the original element\n\t\tthis._cacheMargins();\n\n\t\t//Get the next scrolling parent\n\t\tthis.scrollParent = this.helper.scrollParent();\n\n\t\t//The element's absolute position on the page minus margins\n\t\tthis.offset = this.currentItem.offset();\n\t\tthis.offset = {\n\t\t\ttop: this.offset.top - this.margins.top,\n\t\t\tleft: this.offset.left - this.margins.left\n\t\t};\n\n\t\t$.extend( this.offset, {\n\t\t\tclick: { //Where the click happened, relative to the element\n\t\t\t\tleft: event.pageX - this.offset.left,\n\t\t\t\ttop: event.pageY - this.offset.top\n\t\t\t},\n\t\t\tparent: this._getParentOffset(),\n\n\t\t\t// This is a relative to absolute position minus the actual position calculation -\n\t\t\t// only used for relative positioned helper\n\t\t\trelative: this._getRelativeOffset()\n\t\t} );\n\n\t\t// Only after we got the offset, we can change the helper's position to absolute\n\t\t// TODO: Still need to figure out a way to make relative sorting possible\n\t\tthis.helper.css( \"position\", \"absolute\" );\n\t\tthis.cssPosition = this.helper.css( \"position\" );\n\n\t\t//Generate the original position\n\t\tthis.originalPosition = this._generatePosition( event );\n\t\tthis.originalPageX = event.pageX;\n\t\tthis.originalPageY = event.pageY;\n\n\t\t//Adjust the mouse offset relative to the helper if \"cursorAt\" is supplied\n\t\t( o.cursorAt && this._adjustOffsetFromHelper( o.cursorAt ) );\n\n\t\t//Cache the former DOM position\n\t\tthis.domPosition = {\n\t\t\tprev: this.currentItem.prev()[ 0 ],\n\t\t\tparent: this.currentItem.parent()[ 0 ]\n\t\t};\n\n\t\t// If the helper is not the original, hide the original so it's not playing any role during\n\t\t// the drag, won't cause anything bad this way\n\t\tif ( this.helper[ 0 ] !== this.currentItem[ 0 ] ) {\n\t\t\tthis.currentItem.hide();\n\t\t}\n\n\t\t//Create the placeholder\n\t\tthis._createPlaceholder();\n\n\t\t//Set a containment if given in the options\n\t\tif ( o.containment ) {\n\t\t\tthis._setContainment();\n\t\t}\n\n\t\tif ( o.cursor && o.cursor !== \"auto\" ) { // cursor option\n\t\t\tbody = this.document.find( \"body\" );\n\n\t\t\t// Support: IE\n\t\t\tthis.storedCursor = body.css( \"cursor\" );\n\t\t\tbody.css( \"cursor\", o.cursor );\n\n\t\t\tthis.storedStylesheet =\n\t\t\t\t$( \"<style>*{ cursor: \" + o.cursor + \" !important; }</style>\" ).appendTo( body );\n\t\t}\n\n\t\tif ( o.opacity ) { // opacity option\n\t\t\tif ( this.helper.css( \"opacity\" ) ) {\n\t\t\t\tthis._storedOpacity = this.helper.css( \"opacity\" );\n\t\t\t}\n\t\t\tthis.helper.css( \"opacity\", o.opacity );\n\t\t}\n\n\t\tif ( o.zIndex ) { // zIndex option\n\t\t\tif ( this.helper.css( \"zIndex\" ) ) {\n\t\t\t\tthis._storedZIndex = this.helper.css( \"zIndex\" );\n\t\t\t}\n\t\t\tthis.helper.css( \"zIndex\", o.zIndex );\n\t\t}\n\n\t\t//Prepare scrolling\n\t\tif ( this.scrollParent[ 0 ] !== this.document[ 0 ] &&\n\t\t\t\tthis.scrollParent[ 0 ].tagName !== \"HTML\" ) {\n\t\t\tthis.overflowOffset = this.scrollParent.offset();\n\t\t}\n\n\t\t//Call callbacks\n\t\tthis._trigger( \"start\", event, this._uiHash() );\n\n\t\t//Recache the helper size\n\t\tif ( !this._preserveHelperProportions ) {\n\t\t\tthis._cacheHelperProportions();\n\t\t}\n\n\t\t//Post \"activate\" events to possible containers\n\t\tif ( !noActivation ) {\n\t\t\tfor ( i = this.containers.length - 1; i >= 0; i-- ) {\n\t\t\t\tthis.containers[ i ]._trigger( \"activate\", event, this._uiHash( this ) );\n\t\t\t}\n\t\t}\n\n\t\t//Prepare possible droppables\n\t\tif ( $.ui.ddmanager ) {\n\t\t\t$.ui.ddmanager.current = this;\n\t\t}\n\n\t\tif ( $.ui.ddmanager && !o.dropBehaviour ) {\n\t\t\t$.ui.ddmanager.prepareOffsets( this, event );\n\t\t}\n\n\t\tthis.dragging = true;\n\n\t\tthis._addClass( this.helper, \"ui-sortable-helper\" );\n\n\t\t// Execute the drag once - this causes the helper not to be visiblebefore getting its\n\t\t// correct position\n\t\tthis._mouseDrag( event );\n\t\treturn true;\n\n\t},\n\n\t_mouseDrag: function( event ) {\n\t\tvar i, item, itemElement, intersection,\n\t\t\to = this.options,\n\t\t\tscrolled = false;\n\n\t\t//Compute the helpers position\n\t\tthis.position = this._generatePosition( event );\n\t\tthis.positionAbs = this._convertPositionTo( \"absolute\" );\n\n\t\tif ( !this.lastPositionAbs ) {\n\t\t\tthis.lastPositionAbs = this.positionAbs;\n\t\t}\n\n\t\t//Do scrolling\n\t\tif ( this.options.scroll ) {\n\t\t\tif ( this.scrollParent[ 0 ] !== this.document[ 0 ] &&\n\t\t\t\t\tthis.scrollParent[ 0 ].tagName !== \"HTML\" ) {\n\n\t\t\t\tif ( ( this.overflowOffset.top + this.scrollParent[ 0 ].offsetHeight ) -\n\t\t\t\t\t\tevent.pageY < o.scrollSensitivity ) {\n\t\t\t\t\tthis.scrollParent[ 0 ].scrollTop =\n\t\t\t\t\t\tscrolled = this.scrollParent[ 0 ].scrollTop + o.scrollSpeed;\n\t\t\t\t} else if ( event.pageY - this.overflowOffset.top < o.scrollSensitivity ) {\n\t\t\t\t\tthis.scrollParent[ 0 ].scrollTop =\n\t\t\t\t\t\tscrolled = this.scrollParent[ 0 ].scrollTop - o.scrollSpeed;\n\t\t\t\t}\n\n\t\t\t\tif ( ( this.overflowOffset.left + this.scrollParent[ 0 ].offsetWidth ) -\n\t\t\t\t\t\tevent.pageX < o.scrollSensitivity ) {\n\t\t\t\t\tthis.scrollParent[ 0 ].scrollLeft = scrolled =\n\t\t\t\t\t\tthis.scrollParent[ 0 ].scrollLeft + o.scrollSpeed;\n\t\t\t\t} else if ( event.pageX - this.overflowOffset.left < o.scrollSensitivity ) {\n\t\t\t\t\tthis.scrollParent[ 0 ].scrollLeft = scrolled =\n\t\t\t\t\t\tthis.scrollParent[ 0 ].scrollLeft - o.scrollSpeed;\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( event.pageY - this.document.scrollTop() < o.scrollSensitivity ) {\n\t\t\t\t\tscrolled = this.document.scrollTop( this.document.scrollTop() - o.scrollSpeed );\n\t\t\t\t} else if ( this.window.height() - ( event.pageY - this.document.scrollTop() ) <\n\t\t\t\t\t\to.scrollSensitivity ) {\n\t\t\t\t\tscrolled = this.document.scrollTop( this.document.scrollTop() + o.scrollSpeed );\n\t\t\t\t}\n\n\t\t\t\tif ( event.pageX - this.document.scrollLeft() < o.scrollSensitivity ) {\n\t\t\t\t\tscrolled = this.document.scrollLeft(\n\t\t\t\t\t\tthis.document.scrollLeft() - o.scrollSpeed\n\t\t\t\t\t);\n\t\t\t\t} else if ( this.window.width() - ( event.pageX - this.document.scrollLeft() ) <\n\t\t\t\t\t\to.scrollSensitivity ) {\n\t\t\t\t\tscrolled = this.document.scrollLeft(\n\t\t\t\t\t\tthis.document.scrollLeft() + o.scrollSpeed\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( scrolled !== false && $.ui.ddmanager && !o.dropBehaviour ) {\n\t\t\t\t$.ui.ddmanager.prepareOffsets( this, event );\n\t\t\t}\n\t\t}\n\n\t\t//Regenerate the absolute position used for position checks\n\t\tthis.positionAbs = this._convertPositionTo( \"absolute\" );\n\n\t\t//Set the helper position\n\t\tif ( !this.options.axis || this.options.axis !== \"y\" ) {\n\t\t\tthis.helper[ 0 ].style.left = this.position.left + \"px\";\n\t\t}\n\t\tif ( !this.options.axis || this.options.axis !== \"x\" ) {\n\t\t\tthis.helper[ 0 ].style.top = this.position.top + \"px\";\n\t\t}\n\n\t\t//Rearrange\n\t\tfor ( i = this.items.length - 1; i >= 0; i-- ) {\n\n\t\t\t//Cache variables and intersection, continue if no intersection\n\t\t\titem = this.items[ i ];\n\t\t\titemElement = item.item[ 0 ];\n\t\t\tintersection = this._intersectsWithPointer( item );\n\t\t\tif ( !intersection ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Only put the placeholder inside the current Container, skip all\n\t\t\t// items from other containers. This works because when moving\n\t\t\t// an item from one container to another the\n\t\t\t// currentContainer is switched before the placeholder is moved.\n\t\t\t//\n\t\t\t// Without this, moving items in \"sub-sortables\" can cause\n\t\t\t// the placeholder to jitter between the outer and inner container.\n\t\t\tif ( item.instance !== this.currentContainer ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Cannot intersect with itself\n\t\t\t// no useless actions that have been done before\n\t\t\t// no action if the item moved is the parent of the item checked\n\t\t\tif ( itemElement !== this.currentItem[ 0 ] &&\n\t\t\t\tthis.placeholder[ intersection === 1 ? \"next\" : \"prev\" ]()[ 0 ] !== itemElement &&\n\t\t\t\t!$.contains( this.placeholder[ 0 ], itemElement ) &&\n\t\t\t\t( this.options.type === \"semi-dynamic\" ?\n\t\t\t\t\t!$.contains( this.element[ 0 ], itemElement ) :\n\t\t\t\t\ttrue\n\t\t\t\t)\n\t\t\t) {\n\n\t\t\t\tthis.direction = intersection === 1 ? \"down\" : \"up\";\n\n\t\t\t\tif ( this.options.tolerance === \"pointer\" || this._intersectsWithSides( item ) ) {\n\t\t\t\t\tthis._rearrange( event, item );\n\t\t\t\t} else {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tthis._trigger( \"change\", event, this._uiHash() );\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\t//Post events to containers\n\t\tthis._contactContainers( event );\n\n\t\t//Interconnect with droppables\n\t\tif ( $.ui.ddmanager ) {\n\t\t\t$.ui.ddmanager.drag( this, event );\n\t\t}\n\n\t\t//Call callbacks\n\t\tthis._trigger( \"sort\", event, this._uiHash() );\n\n\t\tthis.lastPositionAbs = this.positionAbs;\n\t\treturn false;\n\n\t},\n\n\t_mouseStop: function( event, noPropagation ) {\n\n\t\tif ( !event ) {\n\t\t\treturn;\n\t\t}\n\n\t\t//If we are using droppables, inform the manager about the drop\n\t\tif ( $.ui.ddmanager && !this.options.dropBehaviour ) {\n\t\t\t$.ui.ddmanager.drop( this, event );\n\t\t}\n\n\t\tif ( this.options.revert ) {\n\t\t\tvar that = this,\n\t\t\t\tcur = this.placeholder.offset(),\n\t\t\t\taxis = this.options.axis,\n\t\t\t\tanimation = {};\n\n\t\t\tif ( !axis || axis === \"x\" ) {\n\t\t\t\tanimation.left = cur.left - this.offset.parent.left - this.margins.left +\n\t\t\t\t\t( this.offsetParent[ 0 ] === this.document[ 0 ].body ?\n\t\t\t\t\t\t0 :\n\t\t\t\t\t\tthis.offsetParent[ 0 ].scrollLeft\n\t\t\t\t\t);\n\t\t\t}\n\t\t\tif ( !axis || axis === \"y\" ) {\n\t\t\t\tanimation.top = cur.top - this.offset.parent.top - this.margins.top +\n\t\t\t\t\t( this.offsetParent[ 0 ] === this.document[ 0 ].body ?\n\t\t\t\t\t\t0 :\n\t\t\t\t\t\tthis.offsetParent[ 0 ].scrollTop\n\t\t\t\t\t);\n\t\t\t}\n\t\t\tthis.reverting = true;\n\t\t\t$( this.helper ).animate(\n\t\t\t\tanimation,\n\t\t\t\tparseInt( this.options.revert, 10 ) || 500,\n\t\t\t\tfunction() {\n\t\t\t\t\tthat._clear( event );\n\t\t\t\t}\n\t\t\t);\n\t\t} else {\n\t\t\tthis._clear( event, noPropagation );\n\t\t}\n\n\t\treturn false;\n\n\t},\n\n\tcancel: function() {\n\n\t\tif ( this.dragging ) {\n\n\t\t\tthis._mouseUp( new $.Event( \"mouseup\", { target: null } ) );\n\n\t\t\tif ( this.options.helper === \"original\" ) {\n\t\t\t\tthis.currentItem.css( this._storedCSS );\n\t\t\t\tthis._removeClass( this.currentItem, \"ui-sortable-helper\" );\n\t\t\t} else {\n\t\t\t\tthis.currentItem.show();\n\t\t\t}\n\n\t\t\t//Post deactivating events to containers\n\t\t\tfor ( var i = this.containers.length - 1; i >= 0; i-- ) {\n\t\t\t\tthis.containers[ i ]._trigger( \"deactivate\", null, this._uiHash( this ) );\n\t\t\t\tif ( this.containers[ i ].containerCache.over ) {\n\t\t\t\t\tthis.containers[ i ]._trigger( \"out\", null, this._uiHash( this ) );\n\t\t\t\t\tthis.containers[ i ].containerCache.over = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.placeholder ) {\n\n\t\t\t//$(this.placeholder[0]).remove(); would have been the jQuery way - unfortunately,\n\t\t\t// it unbinds ALL events from the original node!\n\t\t\tif ( this.placeholder[ 0 ].parentNode ) {\n\t\t\t\tthis.placeholder[ 0 ].parentNode.removeChild( this.placeholder[ 0 ] );\n\t\t\t}\n\t\t\tif ( this.options.helper !== \"original\" && this.helper &&\n\t\t\t\t\tthis.helper[ 0 ].parentNode ) {\n\t\t\t\tthis.helper.remove();\n\t\t\t}\n\n\t\t\t$.extend( this, {\n\t\t\t\thelper: null,\n\t\t\t\tdragging: false,\n\t\t\t\treverting: false,\n\t\t\t\t_noFinalSort: null\n\t\t\t} );\n\n\t\t\tif ( this.domPosition.prev ) {\n\t\t\t\t$( this.domPosition.prev ).after( this.currentItem );\n\t\t\t} else {\n\t\t\t\t$( this.domPosition.parent ).prepend( this.currentItem );\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tserialize: function( o ) {\n\n\t\tvar items = this._getItemsAsjQuery( o && o.connected ),\n\t\t\tstr = [];\n\t\to = o || {};\n\n\t\t$( items ).each( function() {\n\t\t\tvar res = ( $( o.item || this ).attr( o.attribute || \"id\" ) || \"\" )\n\t\t\t\t.match( o.expression || ( /(.+)[\\-=_](.+)/ ) );\n\t\t\tif ( res ) {\n\t\t\t\tstr.push(\n\t\t\t\t\t( o.key || res[ 1 ] + \"[]\" ) +\n\t\t\t\t\t\"=\" + ( o.key && o.expression ? res[ 1 ] : res[ 2 ] ) );\n\t\t\t}\n\t\t} );\n\n\t\tif ( !str.length && o.key ) {\n\t\t\tstr.push( o.key + \"=\" );\n\t\t}\n\n\t\treturn str.join( \"&\" );\n\n\t},\n\n\ttoArray: function( o ) {\n\n\t\tvar items = this._getItemsAsjQuery( o && o.connected ),\n\t\t\tret = [];\n\n\t\to = o || {};\n\n\t\titems.each( function() {\n\t\t\tret.push( $( o.item || this ).attr( o.attribute || \"id\" ) || \"\" );\n\t\t} );\n\t\treturn ret;\n\n\t},\n\n\t/* Be careful with the following core functions */\n\t_intersectsWith: function( item ) {\n\n\t\tvar x1 = this.positionAbs.left,\n\t\t\tx2 = x1 + this.helperProportions.width,\n\t\t\ty1 = this.positionAbs.top,\n\t\t\ty2 = y1 + this.helperProportions.height,\n\t\t\tl = item.left,\n\t\t\tr = l + item.width,\n\t\t\tt = item.top,\n\t\t\tb = t + item.height,\n\t\t\tdyClick = this.offset.click.top,\n\t\t\tdxClick = this.offset.click.left,\n\t\t\tisOverElementHeight = ( this.options.axis === \"x\" ) || ( ( y1 + dyClick ) > t &&\n\t\t\t\t( y1 + dyClick ) < b ),\n\t\t\tisOverElementWidth = ( this.options.axis === \"y\" ) || ( ( x1 + dxClick ) > l &&\n\t\t\t\t( x1 + dxClick ) < r ),\n\t\t\tisOverElement = isOverElementHeight && isOverElementWidth;\n\n\t\tif ( this.options.tolerance === \"pointer\" ||\n\t\t\tthis.options.forcePointerForContainers ||\n\t\t\t( this.options.tolerance !== \"pointer\" &&\n\t\t\t\tthis.helperProportions[ this.floating ? \"width\" : \"height\" ] >\n\t\t\t\titem[ this.floating ? \"width\" : \"height\" ] )\n\t\t) {\n\t\t\treturn isOverElement;\n\t\t} else {\n\n\t\t\treturn ( l < x1 + ( this.helperProportions.width / 2 ) && // Right Half\n\t\t\t\tx2 - ( this.helperProportions.width / 2 ) < r && // Left Half\n\t\t\t\tt < y1 + ( this.helperProportions.height / 2 ) && // Bottom Half\n\t\t\t\ty2 - ( this.helperProportions.height / 2 ) < b ); // Top Half\n\n\t\t}\n\t},\n\n\t_intersectsWithPointer: function( item ) {\n\t\tvar verticalDirection, horizontalDirection,\n\t\t\tisOverElementHeight = ( this.options.axis === \"x\" ) ||\n\t\t\t\tthis._isOverAxis(\n\t\t\t\t\tthis.positionAbs.top + this.offset.click.top, item.top, item.height ),\n\t\t\tisOverElementWidth = ( this.options.axis === \"y\" ) ||\n\t\t\t\tthis._isOverAxis(\n\t\t\t\t\tthis.positionAbs.left + this.offset.click.left, item.left, item.width ),\n\t\t\tisOverElement = isOverElementHeight && isOverElementWidth;\n\n\t\tif ( !isOverElement ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tverticalDirection = this._getDragVerticalDirection();\n\t\thorizontalDirection = this._getDragHorizontalDirection();\n\n\t\treturn this.floating ?\n\t\t\t( ( horizontalDirection === \"right\" || verticalDirection === \"down\" ) ? 2 : 1 )\n\t\t\t: ( verticalDirection && ( verticalDirection === \"down\" ? 2 : 1 ) );\n\n\t},\n\n\t_intersectsWithSides: function( item ) {\n\n\t\tvar isOverBottomHalf = this._isOverAxis( this.positionAbs.top +\n\t\t\t\tthis.offset.click.top, item.top + ( item.height / 2 ), item.height ),\n\t\t\tisOverRightHalf = this._isOverAxis( this.positionAbs.left +\n\t\t\t\tthis.offset.click.left, item.left + ( item.width / 2 ), item.width ),\n\t\t\tverticalDirection = this._getDragVerticalDirection(),\n\t\t\thorizontalDirection = this._getDragHorizontalDirection();\n\n\t\tif ( this.floating && horizontalDirection ) {\n\t\t\treturn ( ( horizontalDirection === \"right\" && isOverRightHalf ) ||\n\t\t\t\t( horizontalDirection === \"left\" && !isOverRightHalf ) );\n\t\t} else {\n\t\t\treturn verticalDirection && ( ( verticalDirection === \"down\" && isOverBottomHalf ) ||\n\t\t\t\t( verticalDirection === \"up\" && !isOverBottomHalf ) );\n\t\t}\n\n\t},\n\n\t_getDragVerticalDirection: function() {\n\t\tvar delta = this.positionAbs.top - this.lastPositionAbs.top;\n\t\treturn delta !== 0 && ( delta > 0 ? \"down\" : \"up\" );\n\t},\n\n\t_getDragHorizontalDirection: function() {\n\t\tvar delta = this.positionAbs.left - this.lastPositionAbs.left;\n\t\treturn delta !== 0 && ( delta > 0 ? \"right\" : \"left\" );\n\t},\n\n\trefresh: function( event ) {\n\t\tthis._refreshItems( event );\n\t\tthis._setHandleClassName();\n\t\tthis.refreshPositions();\n\t\treturn this;\n\t},\n\n\t_connectWith: function() {\n\t\tvar options = this.options;\n\t\treturn options.connectWith.constructor === String ?\n\t\t\t[ options.connectWith ] :\n\t\t\toptions.connectWith;\n\t},\n\n\t_getItemsAsjQuery: function( connected ) {\n\n\t\tvar i, j, cur, inst,\n\t\t\titems = [],\n\t\t\tqueries = [],\n\t\t\tconnectWith = this._connectWith();\n\n\t\tif ( connectWith && connected ) {\n\t\t\tfor ( i = connectWith.length - 1; i >= 0; i-- ) {\n\t\t\t\tcur = $( connectWith[ i ], this.document[ 0 ] );\n\t\t\t\tfor ( j = cur.length - 1; j >= 0; j-- ) {\n\t\t\t\t\tinst = $.data( cur[ j ], this.widgetFullName );\n\t\t\t\t\tif ( inst && inst !== this && !inst.options.disabled ) {\n\t\t\t\t\t\tqueries.push( [ $.isFunction( inst.options.items ) ?\n\t\t\t\t\t\t\tinst.options.items.call( inst.element ) :\n\t\t\t\t\t\t\t$( inst.options.items, inst.element )\n\t\t\t\t\t\t\t\t.not( \".ui-sortable-helper\" )\n\t\t\t\t\t\t\t\t.not( \".ui-sortable-placeholder\" ), inst ] );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tqueries.push( [ $.isFunction( this.options.items ) ?\n\t\t\tthis.options.items\n\t\t\t\t.call( this.element, null, { options: this.options, item: this.currentItem } ) :\n\t\t\t$( this.options.items, this.element )\n\t\t\t\t.not( \".ui-sortable-helper\" )\n\t\t\t\t.not( \".ui-sortable-placeholder\" ), this ] );\n\n\t\tfunction addItems() {\n\t\t\titems.push( this );\n\t\t}\n\t\tfor ( i = queries.length - 1; i >= 0; i-- ) {\n\t\t\tqueries[ i ][ 0 ].each( addItems );\n\t\t}\n\n\t\treturn $( items );\n\n\t},\n\n\t_removeCurrentsFromItems: function() {\n\n\t\tvar list = this.currentItem.find( \":data(\" + this.widgetName + \"-item)\" );\n\n\t\tthis.items = $.grep( this.items, function( item ) {\n\t\t\tfor ( var j = 0; j < list.length; j++ ) {\n\t\t\t\tif ( list[ j ] === item.item[ 0 ] ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t} );\n\n\t},\n\n\t_refreshItems: function( event ) {\n\n\t\tthis.items = [];\n\t\tthis.containers = [ this ];\n\n\t\tvar i, j, cur, inst, targetData, _queries, item, queriesLength,\n\t\t\titems = this.items,\n\t\t\tqueries = [ [ $.isFunction( this.options.items ) ?\n\t\t\t\tthis.options.items.call( this.element[ 0 ], event, { item: this.currentItem } ) :\n\t\t\t\t$( this.options.items, this.element ), this ] ],\n\t\t\tconnectWith = this._connectWith();\n\n\t\t//Shouldn't be run the first time through due to massive slow-down\n\t\tif ( connectWith && this.ready ) {\n\t\t\tfor ( i = connectWith.length - 1; i >= 0; i-- ) {\n\t\t\t\tcur = $( connectWith[ i ], this.document[ 0 ] );\n\t\t\t\tfor ( j = cur.length - 1; j >= 0; j-- ) {\n\t\t\t\t\tinst = $.data( cur[ j ], this.widgetFullName );\n\t\t\t\t\tif ( inst && inst !== this && !inst.options.disabled ) {\n\t\t\t\t\t\tqueries.push( [ $.isFunction( inst.options.items ) ?\n\t\t\t\t\t\t\tinst.options.items\n\t\t\t\t\t\t\t\t.call( inst.element[ 0 ], event, { item: this.currentItem } ) :\n\t\t\t\t\t\t\t$( inst.options.items, inst.element ), inst ] );\n\t\t\t\t\t\tthis.containers.push( inst );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor ( i = queries.length - 1; i >= 0; i-- ) {\n\t\t\ttargetData = queries[ i ][ 1 ];\n\t\t\t_queries = queries[ i ][ 0 ];\n\n\t\t\tfor ( j = 0, queriesLength = _queries.length; j < queriesLength; j++ ) {\n\t\t\t\titem = $( _queries[ j ] );\n\n\t\t\t\t// Data for target checking (mouse manager)\n\t\t\t\titem.data( this.widgetName + \"-item\", targetData );\n\n\t\t\t\titems.push( {\n\t\t\t\t\titem: item,\n\t\t\t\t\tinstance: targetData,\n\t\t\t\t\twidth: 0, height: 0,\n\t\t\t\t\tleft: 0, top: 0\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\n\t},\n\n\trefreshPositions: function( fast ) {\n\n\t\t// Determine whether items are being displayed horizontally\n\t\tthis.floating = this.items.length ?\n\t\t\tthis.options.axis === \"x\" || this._isFloating( this.items[ 0 ].item ) :\n\t\t\tfalse;\n\n\t\t//This has to be redone because due to the item being moved out/into the offsetParent,\n\t\t// the offsetParent's position will change\n\t\tif ( this.offsetParent && this.helper ) {\n\t\t\tthis.offset.parent = this._getParentOffset();\n\t\t}\n\n\t\tvar i, item, t, p;\n\n\t\tfor ( i = this.items.length - 1; i >= 0; i-- ) {\n\t\t\titem = this.items[ i ];\n\n\t\t\t//We ignore calculating positions of all connected containers when we're not over them\n\t\t\tif ( item.instance !== this.currentContainer && this.currentContainer &&\n\t\t\t\t\titem.item[ 0 ] !== this.currentItem[ 0 ] ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tt = this.options.toleranceElement ?\n\t\t\t\t$( this.options.toleranceElement, item.item ) :\n\t\t\t\titem.item;\n\n\t\t\tif ( !fast ) {\n\t\t\t\titem.width = t.outerWidth();\n\t\t\t\titem.height = t.outerHeight();\n\t\t\t}\n\n\t\t\tp = t.offset();\n\t\t\titem.left = p.left;\n\t\t\titem.top = p.top;\n\t\t}\n\n\t\tif ( this.options.custom && this.options.custom.refreshContainers ) {\n\t\t\tthis.options.custom.refreshContainers.call( this );\n\t\t} else {\n\t\t\tfor ( i = this.containers.length - 1; i >= 0; i-- ) {\n\t\t\t\tp = this.containers[ i ].element.offset();\n\t\t\t\tthis.containers[ i ].containerCache.left = p.left;\n\t\t\t\tthis.containers[ i ].containerCache.top = p.top;\n\t\t\t\tthis.containers[ i ].containerCache.width =\n\t\t\t\t\tthis.containers[ i ].element.outerWidth();\n\t\t\t\tthis.containers[ i ].containerCache.height =\n\t\t\t\t\tthis.containers[ i ].element.outerHeight();\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t_createPlaceholder: function( that ) {\n\t\tthat = that || this;\n\t\tvar className,\n\t\t\to = that.options;\n\n\t\tif ( !o.placeholder || o.placeholder.constructor === String ) {\n\t\t\tclassName = o.placeholder;\n\t\t\to.placeholder = {\n\t\t\t\telement: function() {\n\n\t\t\t\t\tvar nodeName = that.currentItem[ 0 ].nodeName.toLowerCase(),\n\t\t\t\t\t\telement = $( \"<\" + nodeName + \">\", that.document[ 0 ] );\n\n\t\t\t\t\t\tthat._addClass( element, \"ui-sortable-placeholder\",\n\t\t\t\t\t\t\t\tclassName || that.currentItem[ 0 ].className )\n\t\t\t\t\t\t\t._removeClass( element, \"ui-sortable-helper\" );\n\n\t\t\t\t\tif ( nodeName === \"tbody\" ) {\n\t\t\t\t\t\tthat._createTrPlaceholder(\n\t\t\t\t\t\t\tthat.currentItem.find( \"tr\" ).eq( 0 ),\n\t\t\t\t\t\t\t$( \"<tr>\", that.document[ 0 ] ).appendTo( element )\n\t\t\t\t\t\t);\n\t\t\t\t\t} else if ( nodeName === \"tr\" ) {\n\t\t\t\t\t\tthat._createTrPlaceholder( that.currentItem, element );\n\t\t\t\t\t} else if ( nodeName === \"img\" ) {\n\t\t\t\t\t\telement.attr( \"src\", that.currentItem.attr( \"src\" ) );\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( !className ) {\n\t\t\t\t\t\telement.css( \"visibility\", \"hidden\" );\n\t\t\t\t\t}\n\n\t\t\t\t\treturn element;\n\t\t\t\t},\n\t\t\t\tupdate: function( container, p ) {\n\n\t\t\t\t\t// 1. If a className is set as 'placeholder option, we don't force sizes -\n\t\t\t\t\t// the class is responsible for that\n\t\t\t\t\t// 2. The option 'forcePlaceholderSize can be enabled to force it even if a\n\t\t\t\t\t// class name is specified\n\t\t\t\t\tif ( className && !o.forcePlaceholderSize ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t//If the element doesn't have a actual height by itself (without styles coming\n\t\t\t\t\t// from a stylesheet), it receives the inline height from the dragged item\n\t\t\t\t\tif ( !p.height() ) {\n\t\t\t\t\t\tp.height(\n\t\t\t\t\t\t\tthat.currentItem.innerHeight() -\n\t\t\t\t\t\t\tparseInt( that.currentItem.css( \"paddingTop\" ) || 0, 10 ) -\n\t\t\t\t\t\t\tparseInt( that.currentItem.css( \"paddingBottom\" ) || 0, 10 ) );\n\t\t\t\t\t}\n\t\t\t\t\tif ( !p.width() ) {\n\t\t\t\t\t\tp.width(\n\t\t\t\t\t\t\tthat.currentItem.innerWidth() -\n\t\t\t\t\t\t\tparseInt( that.currentItem.css( \"paddingLeft\" ) || 0, 10 ) -\n\t\t\t\t\t\t\tparseInt( that.currentItem.css( \"paddingRight\" ) || 0, 10 ) );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\t//Create the placeholder\n\t\tthat.placeholder = $( o.placeholder.element.call( that.element, that.currentItem ) );\n\n\t\t//Append it after the actual current item\n\t\tthat.currentItem.after( that.placeholder );\n\n\t\t//Update the size of the placeholder (TODO: Logic to fuzzy, see line 316/317)\n\t\to.placeholder.update( that, that.placeholder );\n\n\t},\n\n\t_createTrPlaceholder: function( sourceTr, targetTr ) {\n\t\tvar that = this;\n\n\t\tsourceTr.children().each( function() {\n\t\t\t$( \"<td>&#160;</td>\", that.document[ 0 ] )\n\t\t\t\t.attr( \"colspan\", $( this ).attr( \"colspan\" ) || 1 )\n\t\t\t\t.appendTo( targetTr );\n\t\t} );\n\t},\n\n\t_contactContainers: function( event ) {\n\t\tvar i, j, dist, itemWithLeastDistance, posProperty, sizeProperty, cur, nearBottom,\n\t\t\tfloating, axis,\n\t\t\tinnermostContainer = null,\n\t\t\tinnermostIndex = null;\n\n\t\t// Get innermost container that intersects with item\n\t\tfor ( i = this.containers.length - 1; i >= 0; i-- ) {\n\n\t\t\t// Never consider a container that's located within the item itself\n\t\t\tif ( $.contains( this.currentItem[ 0 ], this.containers[ i ].element[ 0 ] ) ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif ( this._intersectsWith( this.containers[ i ].containerCache ) ) {\n\n\t\t\t\t// If we've already found a container and it's more \"inner\" than this, then continue\n\t\t\t\tif ( innermostContainer &&\n\t\t\t\t\t\t$.contains(\n\t\t\t\t\t\t\tthis.containers[ i ].element[ 0 ],\n\t\t\t\t\t\t\tinnermostContainer.element[ 0 ] ) ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tinnermostContainer = this.containers[ i ];\n\t\t\t\tinnermostIndex = i;\n\n\t\t\t} else {\n\n\t\t\t\t// container doesn't intersect. trigger \"out\" event if necessary\n\t\t\t\tif ( this.containers[ i ].containerCache.over ) {\n\t\t\t\t\tthis.containers[ i ]._trigger( \"out\", event, this._uiHash( this ) );\n\t\t\t\t\tthis.containers[ i ].containerCache.over = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\n\t\t// If no intersecting containers found, return\n\t\tif ( !innermostContainer ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Move the item into the container if it's not there already\n\t\tif ( this.containers.length === 1 ) {\n\t\t\tif ( !this.containers[ innermostIndex ].containerCache.over ) {\n\t\t\t\tthis.containers[ innermostIndex ]._trigger( \"over\", event, this._uiHash( this ) );\n\t\t\t\tthis.containers[ innermostIndex ].containerCache.over = 1;\n\t\t\t}\n\t\t} else {\n\n\t\t\t// When entering a new container, we will find the item with the least distance and\n\t\t\t// append our item near it\n\t\t\tdist = 10000;\n\t\t\titemWithLeastDistance = null;\n\t\t\tfloating = innermostContainer.floating || this._isFloating( this.currentItem );\n\t\t\tposProperty = floating ? \"left\" : \"top\";\n\t\t\tsizeProperty = floating ? \"width\" : \"height\";\n\t\t\taxis = floating ? \"pageX\" : \"pageY\";\n\n\t\t\tfor ( j = this.items.length - 1; j >= 0; j-- ) {\n\t\t\t\tif ( !$.contains(\n\t\t\t\t\t\tthis.containers[ innermostIndex ].element[ 0 ], this.items[ j ].item[ 0 ] )\n\t\t\t\t) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif ( this.items[ j ].item[ 0 ] === this.currentItem[ 0 ] ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tcur = this.items[ j ].item.offset()[ posProperty ];\n\t\t\t\tnearBottom = false;\n\t\t\t\tif ( event[ axis ] - cur > this.items[ j ][ sizeProperty ] / 2 ) {\n\t\t\t\t\tnearBottom = true;\n\t\t\t\t}\n\n\t\t\t\tif ( Math.abs( event[ axis ] - cur ) < dist ) {\n\t\t\t\t\tdist = Math.abs( event[ axis ] - cur );\n\t\t\t\t\titemWithLeastDistance = this.items[ j ];\n\t\t\t\t\tthis.direction = nearBottom ? \"up\" : \"down\";\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//Check if dropOnEmpty is enabled\n\t\t\tif ( !itemWithLeastDistance && !this.options.dropOnEmpty ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( this.currentContainer === this.containers[ innermostIndex ] ) {\n\t\t\t\tif ( !this.currentContainer.containerCache.over ) {\n\t\t\t\t\tthis.containers[ innermostIndex ]._trigger( \"over\", event, this._uiHash() );\n\t\t\t\t\tthis.currentContainer.containerCache.over = 1;\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\titemWithLeastDistance ?\n\t\t\t\tthis._rearrange( event, itemWithLeastDistance, null, true ) :\n\t\t\t\tthis._rearrange( event, null, this.containers[ innermostIndex ].element, true );\n\t\t\tthis._trigger( \"change\", event, this._uiHash() );\n\t\t\tthis.containers[ innermostIndex ]._trigger( \"change\", event, this._uiHash( this ) );\n\t\t\tthis.currentContainer = this.containers[ innermostIndex ];\n\n\t\t\t//Update the placeholder\n\t\t\tthis.options.placeholder.update( this.currentContainer, this.placeholder );\n\n\t\t\tthis.containers[ innermostIndex ]._trigger( \"over\", event, this._uiHash( this ) );\n\t\t\tthis.containers[ innermostIndex ].containerCache.over = 1;\n\t\t}\n\n\t},\n\n\t_createHelper: function( event ) {\n\n\t\tvar o = this.options,\n\t\t\thelper = $.isFunction( o.helper ) ?\n\t\t\t\t$( o.helper.apply( this.element[ 0 ], [ event, this.currentItem ] ) ) :\n\t\t\t\t( o.helper === \"clone\" ? this.currentItem.clone() : this.currentItem );\n\n\t\t//Add the helper to the DOM if that didn't happen already\n\t\tif ( !helper.parents( \"body\" ).length ) {\n\t\t\t$( o.appendTo !== \"parent\" ?\n\t\t\t\to.appendTo :\n\t\t\t\tthis.currentItem[ 0 ].parentNode )[ 0 ].appendChild( helper[ 0 ] );\n\t\t}\n\n\t\tif ( helper[ 0 ] === this.currentItem[ 0 ] ) {\n\t\t\tthis._storedCSS = {\n\t\t\t\twidth: this.currentItem[ 0 ].style.width,\n\t\t\t\theight: this.currentItem[ 0 ].style.height,\n\t\t\t\tposition: this.currentItem.css( \"position\" ),\n\t\t\t\ttop: this.currentItem.css( \"top\" ),\n\t\t\t\tleft: this.currentItem.css( \"left\" )\n\t\t\t};\n\t\t}\n\n\t\tif ( !helper[ 0 ].style.width || o.forceHelperSize ) {\n\t\t\thelper.width( this.currentItem.width() );\n\t\t}\n\t\tif ( !helper[ 0 ].style.height || o.forceHelperSize ) {\n\t\t\thelper.height( this.currentItem.height() );\n\t\t}\n\n\t\treturn helper;\n\n\t},\n\n\t_adjustOffsetFromHelper: function( obj ) {\n\t\tif ( typeof obj === \"string\" ) {\n\t\t\tobj = obj.split( \" \" );\n\t\t}\n\t\tif ( $.isArray( obj ) ) {\n\t\t\tobj = { left: +obj[ 0 ], top: +obj[ 1 ] || 0 };\n\t\t}\n\t\tif ( \"left\" in obj ) {\n\t\t\tthis.offset.click.left = obj.left + this.margins.left;\n\t\t}\n\t\tif ( \"right\" in obj ) {\n\t\t\tthis.offset.click.left = this.helperProportions.width - obj.right + this.margins.left;\n\t\t}\n\t\tif ( \"top\" in obj ) {\n\t\t\tthis.offset.click.top = obj.top + this.margins.top;\n\t\t}\n\t\tif ( \"bottom\" in obj ) {\n\t\t\tthis.offset.click.top = this.helperProportions.height - obj.bottom + this.margins.top;\n\t\t}\n\t},\n\n\t_getParentOffset: function() {\n\n\t\t//Get the offsetParent and cache its position\n\t\tthis.offsetParent = this.helper.offsetParent();\n\t\tvar po = this.offsetParent.offset();\n\n\t\t// This is a special case where we need to modify a offset calculated on start, since the\n\t\t// following happened:\n\t\t// 1. The position of the helper is absolute, so it's position is calculated based on the\n\t\t// next positioned parent\n\t\t// 2. The actual offset parent is a child of the scroll parent, and the scroll parent isn't\n\t\t// the document, which means that the scroll is included in the initial calculation of the\n\t\t// offset of the parent, and never recalculated upon drag\n\t\tif ( this.cssPosition === \"absolute\" && this.scrollParent[ 0 ] !== this.document[ 0 ] &&\n\t\t\t\t$.contains( this.scrollParent[ 0 ], this.offsetParent[ 0 ] ) ) {\n\t\t\tpo.left += this.scrollParent.scrollLeft();\n\t\t\tpo.top += this.scrollParent.scrollTop();\n\t\t}\n\n\t\t// This needs to be actually done for all browsers, since pageX/pageY includes this\n\t\t// information with an ugly IE fix\n\t\tif ( this.offsetParent[ 0 ] === this.document[ 0 ].body ||\n\t\t\t\t( this.offsetParent[ 0 ].tagName &&\n\t\t\t\tthis.offsetParent[ 0 ].tagName.toLowerCase() === \"html\" && $.ui.ie ) ) {\n\t\t\tpo = { top: 0, left: 0 };\n\t\t}\n\n\t\treturn {\n\t\t\ttop: po.top + ( parseInt( this.offsetParent.css( \"borderTopWidth\" ), 10 ) || 0 ),\n\t\t\tleft: po.left + ( parseInt( this.offsetParent.css( \"borderLeftWidth\" ), 10 ) || 0 )\n\t\t};\n\n\t},\n\n\t_getRelativeOffset: function() {\n\n\t\tif ( this.cssPosition === \"relative\" ) {\n\t\t\tvar p = this.currentItem.position();\n\t\t\treturn {\n\t\t\t\ttop: p.top - ( parseInt( this.helper.css( \"top\" ), 10 ) || 0 ) +\n\t\t\t\t\tthis.scrollParent.scrollTop(),\n\t\t\t\tleft: p.left - ( parseInt( this.helper.css( \"left\" ), 10 ) || 0 ) +\n\t\t\t\t\tthis.scrollParent.scrollLeft()\n\t\t\t};\n\t\t} else {\n\t\t\treturn { top: 0, left: 0 };\n\t\t}\n\n\t},\n\n\t_cacheMargins: function() {\n\t\tthis.margins = {\n\t\t\tleft: ( parseInt( this.currentItem.css( \"marginLeft\" ), 10 ) || 0 ),\n\t\t\ttop: ( parseInt( this.currentItem.css( \"marginTop\" ), 10 ) || 0 )\n\t\t};\n\t},\n\n\t_cacheHelperProportions: function() {\n\t\tthis.helperProportions = {\n\t\t\twidth: this.helper.outerWidth(),\n\t\t\theight: this.helper.outerHeight()\n\t\t};\n\t},\n\n\t_setContainment: function() {\n\n\t\tvar ce, co, over,\n\t\t\to = this.options;\n\t\tif ( o.containment === \"parent\" ) {\n\t\t\to.containment = this.helper[ 0 ].parentNode;\n\t\t}\n\t\tif ( o.containment === \"document\" || o.containment === \"window\" ) {\n\t\t\tthis.containment = [\n\t\t\t\t0 - this.offset.relative.left - this.offset.parent.left,\n\t\t\t\t0 - this.offset.relative.top - this.offset.parent.top,\n\t\t\t\to.containment === \"document\" ?\n\t\t\t\t\tthis.document.width() :\n\t\t\t\t\tthis.window.width() - this.helperProportions.width - this.margins.left,\n\t\t\t\t( o.containment === \"document\" ?\n\t\t\t\t\t( this.document.height() || document.body.parentNode.scrollHeight ) :\n\t\t\t\t\tthis.window.height() || this.document[ 0 ].body.parentNode.scrollHeight\n\t\t\t\t) - this.helperProportions.height - this.margins.top\n\t\t\t];\n\t\t}\n\n\t\tif ( !( /^(document|window|parent)$/ ).test( o.containment ) ) {\n\t\t\tce = $( o.containment )[ 0 ];\n\t\t\tco = $( o.containment ).offset();\n\t\t\tover = ( $( ce ).css( \"overflow\" ) !== \"hidden\" );\n\n\t\t\tthis.containment = [\n\t\t\t\tco.left + ( parseInt( $( ce ).css( \"borderLeftWidth\" ), 10 ) || 0 ) +\n\t\t\t\t\t( parseInt( $( ce ).css( \"paddingLeft\" ), 10 ) || 0 ) - this.margins.left,\n\t\t\t\tco.top + ( parseInt( $( ce ).css( \"borderTopWidth\" ), 10 ) || 0 ) +\n\t\t\t\t\t( parseInt( $( ce ).css( \"paddingTop\" ), 10 ) || 0 ) - this.margins.top,\n\t\t\t\tco.left + ( over ? Math.max( ce.scrollWidth, ce.offsetWidth ) : ce.offsetWidth ) -\n\t\t\t\t\t( parseInt( $( ce ).css( \"borderLeftWidth\" ), 10 ) || 0 ) -\n\t\t\t\t\t( parseInt( $( ce ).css( \"paddingRight\" ), 10 ) || 0 ) -\n\t\t\t\t\tthis.helperProportions.width - this.margins.left,\n\t\t\t\tco.top + ( over ? Math.max( ce.scrollHeight, ce.offsetHeight ) : ce.offsetHeight ) -\n\t\t\t\t\t( parseInt( $( ce ).css( \"borderTopWidth\" ), 10 ) || 0 ) -\n\t\t\t\t\t( parseInt( $( ce ).css( \"paddingBottom\" ), 10 ) || 0 ) -\n\t\t\t\t\tthis.helperProportions.height - this.margins.top\n\t\t\t];\n\t\t}\n\n\t},\n\n\t_convertPositionTo: function( d, pos ) {\n\n\t\tif ( !pos ) {\n\t\t\tpos = this.position;\n\t\t}\n\t\tvar mod = d === \"absolute\" ? 1 : -1,\n\t\t\tscroll = this.cssPosition === \"absolute\" &&\n\t\t\t\t!( this.scrollParent[ 0 ] !== this.document[ 0 ] &&\n\t\t\t\t$.contains( this.scrollParent[ 0 ], this.offsetParent[ 0 ] ) ) ?\n\t\t\t\t\tthis.offsetParent :\n\t\t\t\t\tthis.scrollParent,\n\t\t\tscrollIsRootNode = ( /(html|body)/i ).test( scroll[ 0 ].tagName );\n\n\t\treturn {\n\t\t\ttop: (\n\n\t\t\t\t// The absolute mouse position\n\t\t\t\tpos.top\t+\n\n\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\tthis.offset.relative.top * mod +\n\n\t\t\t\t// The offsetParent's offset without borders (offset + border)\n\t\t\t\tthis.offset.parent.top * mod -\n\t\t\t\t( ( this.cssPosition === \"fixed\" ?\n\t\t\t\t\t-this.scrollParent.scrollTop() :\n\t\t\t\t\t( scrollIsRootNode ? 0 : scroll.scrollTop() ) ) * mod )\n\t\t\t),\n\t\t\tleft: (\n\n\t\t\t\t// The absolute mouse position\n\t\t\t\tpos.left +\n\n\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\tthis.offset.relative.left * mod +\n\n\t\t\t\t// The offsetParent's offset without borders (offset + border)\n\t\t\t\tthis.offset.parent.left * mod\t-\n\t\t\t\t( ( this.cssPosition === \"fixed\" ?\n\t\t\t\t\t-this.scrollParent.scrollLeft() : scrollIsRootNode ? 0 :\n\t\t\t\t\tscroll.scrollLeft() ) * mod )\n\t\t\t)\n\t\t};\n\n\t},\n\n\t_generatePosition: function( event ) {\n\n\t\tvar top, left,\n\t\t\to = this.options,\n\t\t\tpageX = event.pageX,\n\t\t\tpageY = event.pageY,\n\t\t\tscroll = this.cssPosition === \"absolute\" &&\n\t\t\t\t!( this.scrollParent[ 0 ] !== this.document[ 0 ] &&\n\t\t\t\t$.contains( this.scrollParent[ 0 ], this.offsetParent[ 0 ] ) ) ?\n\t\t\t\t\tthis.offsetParent :\n\t\t\t\t\tthis.scrollParent,\n\t\t\t\tscrollIsRootNode = ( /(html|body)/i ).test( scroll[ 0 ].tagName );\n\n\t\t// This is another very weird special case that only happens for relative elements:\n\t\t// 1. If the css position is relative\n\t\t// 2. and the scroll parent is the document or similar to the offset parent\n\t\t// we have to refresh the relative offset during the scroll so there are no jumps\n\t\tif ( this.cssPosition === \"relative\" && !( this.scrollParent[ 0 ] !== this.document[ 0 ] &&\n\t\t\t\tthis.scrollParent[ 0 ] !== this.offsetParent[ 0 ] ) ) {\n\t\t\tthis.offset.relative = this._getRelativeOffset();\n\t\t}\n\n\t\t/*\n\t\t * - Position constraining -\n\t\t * Constrain the position to a mix of grid, containment.\n\t\t */\n\n\t\tif ( this.originalPosition ) { //If we are not dragging yet, we won't check for options\n\n\t\t\tif ( this.containment ) {\n\t\t\t\tif ( event.pageX - this.offset.click.left < this.containment[ 0 ] ) {\n\t\t\t\t\tpageX = this.containment[ 0 ] + this.offset.click.left;\n\t\t\t\t}\n\t\t\t\tif ( event.pageY - this.offset.click.top < this.containment[ 1 ] ) {\n\t\t\t\t\tpageY = this.containment[ 1 ] + this.offset.click.top;\n\t\t\t\t}\n\t\t\t\tif ( event.pageX - this.offset.click.left > this.containment[ 2 ] ) {\n\t\t\t\t\tpageX = this.containment[ 2 ] + this.offset.click.left;\n\t\t\t\t}\n\t\t\t\tif ( event.pageY - this.offset.click.top > this.containment[ 3 ] ) {\n\t\t\t\t\tpageY = this.containment[ 3 ] + this.offset.click.top;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( o.grid ) {\n\t\t\t\ttop = this.originalPageY + Math.round( ( pageY - this.originalPageY ) /\n\t\t\t\t\to.grid[ 1 ] ) * o.grid[ 1 ];\n\t\t\t\tpageY = this.containment ?\n\t\t\t\t\t( ( top - this.offset.click.top >= this.containment[ 1 ] &&\n\t\t\t\t\t\ttop - this.offset.click.top <= this.containment[ 3 ] ) ?\n\t\t\t\t\t\t\ttop :\n\t\t\t\t\t\t\t( ( top - this.offset.click.top >= this.containment[ 1 ] ) ?\n\t\t\t\t\t\t\t\ttop - o.grid[ 1 ] : top + o.grid[ 1 ] ) ) :\n\t\t\t\t\t\t\t\ttop;\n\n\t\t\t\tleft = this.originalPageX + Math.round( ( pageX - this.originalPageX ) /\n\t\t\t\t\to.grid[ 0 ] ) * o.grid[ 0 ];\n\t\t\t\tpageX = this.containment ?\n\t\t\t\t\t( ( left - this.offset.click.left >= this.containment[ 0 ] &&\n\t\t\t\t\t\tleft - this.offset.click.left <= this.containment[ 2 ] ) ?\n\t\t\t\t\t\t\tleft :\n\t\t\t\t\t\t\t( ( left - this.offset.click.left >= this.containment[ 0 ] ) ?\n\t\t\t\t\t\t\t\tleft - o.grid[ 0 ] : left + o.grid[ 0 ] ) ) :\n\t\t\t\t\t\t\t\tleft;\n\t\t\t}\n\n\t\t}\n\n\t\treturn {\n\t\t\ttop: (\n\n\t\t\t\t// The absolute mouse position\n\t\t\t\tpageY -\n\n\t\t\t\t// Click offset (relative to the element)\n\t\t\t\tthis.offset.click.top -\n\n\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\tthis.offset.relative.top -\n\n\t\t\t\t// The offsetParent's offset without borders (offset + border)\n\t\t\t\tthis.offset.parent.top +\n\t\t\t\t( ( this.cssPosition === \"fixed\" ?\n\t\t\t\t\t-this.scrollParent.scrollTop() :\n\t\t\t\t\t( scrollIsRootNode ? 0 : scroll.scrollTop() ) ) )\n\t\t\t),\n\t\t\tleft: (\n\n\t\t\t\t// The absolute mouse position\n\t\t\t\tpageX -\n\n\t\t\t\t// Click offset (relative to the element)\n\t\t\t\tthis.offset.click.left -\n\n\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\tthis.offset.relative.left -\n\n\t\t\t\t// The offsetParent's offset without borders (offset + border)\n\t\t\t\tthis.offset.parent.left +\n\t\t\t\t( ( this.cssPosition === \"fixed\" ?\n\t\t\t\t\t-this.scrollParent.scrollLeft() :\n\t\t\t\t\tscrollIsRootNode ? 0 : scroll.scrollLeft() ) )\n\t\t\t)\n\t\t};\n\n\t},\n\n\t_rearrange: function( event, i, a, hardRefresh ) {\n\n\t\ta ? a[ 0 ].appendChild( this.placeholder[ 0 ] ) :\n\t\t\ti.item[ 0 ].parentNode.insertBefore( this.placeholder[ 0 ],\n\t\t\t\t( this.direction === \"down\" ? i.item[ 0 ] : i.item[ 0 ].nextSibling ) );\n\n\t\t//Various things done here to improve the performance:\n\t\t// 1. we create a setTimeout, that calls refreshPositions\n\t\t// 2. on the instance, we have a counter variable, that get's higher after every append\n\t\t// 3. on the local scope, we copy the counter variable, and check in the timeout,\n\t\t// if it's still the same\n\t\t// 4. this lets only the last addition to the timeout stack through\n\t\tthis.counter = this.counter ? ++this.counter : 1;\n\t\tvar counter = this.counter;\n\n\t\tthis._delay( function() {\n\t\t\tif ( counter === this.counter ) {\n\n\t\t\t\t//Precompute after each DOM insertion, NOT on mousemove\n\t\t\t\tthis.refreshPositions( !hardRefresh );\n\t\t\t}\n\t\t} );\n\n\t},\n\n\t_clear: function( event, noPropagation ) {\n\n\t\tthis.reverting = false;\n\n\t\t// We delay all events that have to be triggered to after the point where the placeholder\n\t\t// has been removed and everything else normalized again\n\t\tvar i,\n\t\t\tdelayedTriggers = [];\n\n\t\t// We first have to update the dom position of the actual currentItem\n\t\t// Note: don't do it if the current item is already removed (by a user), or it gets\n\t\t// reappended (see #4088)\n\t\tif ( !this._noFinalSort && this.currentItem.parent().length ) {\n\t\t\tthis.placeholder.before( this.currentItem );\n\t\t}\n\t\tthis._noFinalSort = null;\n\n\t\tif ( this.helper[ 0 ] === this.currentItem[ 0 ] ) {\n\t\t\tfor ( i in this._storedCSS ) {\n\t\t\t\tif ( this._storedCSS[ i ] === \"auto\" || this._storedCSS[ i ] === \"static\" ) {\n\t\t\t\t\tthis._storedCSS[ i ] = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.currentItem.css( this._storedCSS );\n\t\t\tthis._removeClass( this.currentItem, \"ui-sortable-helper\" );\n\t\t} else {\n\t\t\tthis.currentItem.show();\n\t\t}\n\n\t\tif ( this.fromOutside && !noPropagation ) {\n\t\t\tdelayedTriggers.push( function( event ) {\n\t\t\t\tthis._trigger( \"receive\", event, this._uiHash( this.fromOutside ) );\n\t\t\t} );\n\t\t}\n\t\tif ( ( this.fromOutside ||\n\t\t\t\tthis.domPosition.prev !==\n\t\t\t\tthis.currentItem.prev().not( \".ui-sortable-helper\" )[ 0 ] ||\n\t\t\t\tthis.domPosition.parent !== this.currentItem.parent()[ 0 ] ) && !noPropagation ) {\n\n\t\t\t// Trigger update callback if the DOM position has changed\n\t\t\tdelayedTriggers.push( function( event ) {\n\t\t\t\tthis._trigger( \"update\", event, this._uiHash() );\n\t\t\t} );\n\t\t}\n\n\t\t// Check if the items Container has Changed and trigger appropriate\n\t\t// events.\n\t\tif ( this !== this.currentContainer ) {\n\t\t\tif ( !noPropagation ) {\n\t\t\t\tdelayedTriggers.push( function( event ) {\n\t\t\t\t\tthis._trigger( \"remove\", event, this._uiHash() );\n\t\t\t\t} );\n\t\t\t\tdelayedTriggers.push( ( function( c ) {\n\t\t\t\t\treturn function( event ) {\n\t\t\t\t\t\tc._trigger( \"receive\", event, this._uiHash( this ) );\n\t\t\t\t\t};\n\t\t\t\t} ).call( this, this.currentContainer ) );\n\t\t\t\tdelayedTriggers.push( ( function( c ) {\n\t\t\t\t\treturn function( event ) {\n\t\t\t\t\t\tc._trigger( \"update\", event, this._uiHash( this ) );\n\t\t\t\t\t};\n\t\t\t\t} ).call( this, this.currentContainer ) );\n\t\t\t}\n\t\t}\n\n\t\t//Post events to containers\n\t\tfunction delayEvent( type, instance, container ) {\n\t\t\treturn function( event ) {\n\t\t\t\tcontainer._trigger( type, event, instance._uiHash( instance ) );\n\t\t\t};\n\t\t}\n\t\tfor ( i = this.containers.length - 1; i >= 0; i-- ) {\n\t\t\tif ( !noPropagation ) {\n\t\t\t\tdelayedTriggers.push( delayEvent( \"deactivate\", this, this.containers[ i ] ) );\n\t\t\t}\n\t\t\tif ( this.containers[ i ].containerCache.over ) {\n\t\t\t\tdelayedTriggers.push( delayEvent( \"out\", this, this.containers[ i ] ) );\n\t\t\t\tthis.containers[ i ].containerCache.over = 0;\n\t\t\t}\n\t\t}\n\n\t\t//Do what was originally in plugins\n\t\tif ( this.storedCursor ) {\n\t\t\tthis.document.find( \"body\" ).css( \"cursor\", this.storedCursor );\n\t\t\tthis.storedStylesheet.remove();\n\t\t}\n\t\tif ( this._storedOpacity ) {\n\t\t\tthis.helper.css( \"opacity\", this._storedOpacity );\n\t\t}\n\t\tif ( this._storedZIndex ) {\n\t\t\tthis.helper.css( \"zIndex\", this._storedZIndex === \"auto\" ? \"\" : this._storedZIndex );\n\t\t}\n\n\t\tthis.dragging = false;\n\n\t\tif ( !noPropagation ) {\n\t\t\tthis._trigger( \"beforeStop\", event, this._uiHash() );\n\t\t}\n\n\t\t//$(this.placeholder[0]).remove(); would have been the jQuery way - unfortunately,\n\t\t// it unbinds ALL events from the original node!\n\t\tthis.placeholder[ 0 ].parentNode.removeChild( this.placeholder[ 0 ] );\n\n\t\tif ( !this.cancelHelperRemoval ) {\n\t\t\tif ( this.helper[ 0 ] !== this.currentItem[ 0 ] ) {\n\t\t\t\tthis.helper.remove();\n\t\t\t}\n\t\t\tthis.helper = null;\n\t\t}\n\n\t\tif ( !noPropagation ) {\n\t\t\tfor ( i = 0; i < delayedTriggers.length; i++ ) {\n\n\t\t\t\t// Trigger all delayed events\n\t\t\t\tdelayedTriggers[ i ].call( this, event );\n\t\t\t}\n\t\t\tthis._trigger( \"stop\", event, this._uiHash() );\n\t\t}\n\n\t\tthis.fromOutside = false;\n\t\treturn !this.cancelHelperRemoval;\n\n\t},\n\n\t_trigger: function() {\n\t\tif ( $.Widget.prototype._trigger.apply( this, arguments ) === false ) {\n\t\t\tthis.cancel();\n\t\t}\n\t},\n\n\t_uiHash: function( _inst ) {\n\t\tvar inst = _inst || this;\n\t\treturn {\n\t\t\thelper: inst.helper,\n\t\t\tplaceholder: inst.placeholder || $( [] ),\n\t\t\tposition: inst.position,\n\t\t\toriginalPosition: inst.originalPosition,\n\t\t\toffset: inst.positionAbs,\n\t\t\titem: inst.currentItem,\n\t\t\tsender: _inst ? _inst.element : null\n\t\t};\n\t}\n\n} );\n\n} ) );\n"]}