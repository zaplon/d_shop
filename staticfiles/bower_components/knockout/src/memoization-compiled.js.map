{"version":3,"sources":["../../../../../../../../../../home/jan/workspace/django_shop/shop/staticfiles/bower_components/knockout/src/memoization.js"],"names":[],"mappings":"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","file":"memoization-compiled.js","sourcesContent":["\nko.memoization = (function () {\n    var memos = {};\n\n    function randomMax8HexChars() {\n        return (((1 + Math.random()) * 0x100000000) | 0).toString(16).substring(1);\n    }\n    function generateRandomId() {\n        return randomMax8HexChars() + randomMax8HexChars();\n    }\n    function findMemoNodes(rootNode, appendToArray) {\n        if (!rootNode)\n            return;\n        if (rootNode.nodeType == 8) {\n            var memoId = ko.memoization.parseMemoText(rootNode.nodeValue);\n            if (memoId != null)\n                appendToArray.push({ domNode: rootNode, memoId: memoId });\n        } else if (rootNode.nodeType == 1) {\n            for (var i = 0, childNodes = rootNode.childNodes, j = childNodes.length; i < j; i++)\n                findMemoNodes(childNodes[i], appendToArray);\n        }\n    }\n\n    return {\n        memoize: function (callback) {\n            if (typeof callback != \"function\")\n                throw new Error(\"You can only pass a function to ko.memoization.memoize()\");\n            var memoId = generateRandomId();\n            memos[memoId] = callback;\n            return \"<!--[ko_memo:\" + memoId + \"]-->\";\n        },\n\n        unmemoize: function (memoId, callbackParams) {\n            var callback = memos[memoId];\n            if (callback === undefined)\n                throw new Error(\"Couldn't find any memo with ID \" + memoId + \". Perhaps it's already been unmemoized.\");\n            try {\n                callback.apply(null, callbackParams || []);\n                return true;\n            }\n            finally { delete memos[memoId]; }\n        },\n\n        unmemoizeDomNodeAndDescendants: function (domNode, extraCallbackParamsArray) {\n            var memos = [];\n            findMemoNodes(domNode, memos);\n            for (var i = 0, j = memos.length; i < j; i++) {\n                var node = memos[i].domNode;\n                var combinedParams = [node];\n                if (extraCallbackParamsArray)\n                    ko.utils.arrayPushAll(combinedParams, extraCallbackParamsArray);\n                ko.memoization.unmemoize(memos[i].memoId, combinedParams);\n                node.nodeValue = \"\"; // Neuter this node so we don't try to unmemoize it again\n                if (node.parentNode)\n                    node.parentNode.removeChild(node); // If possible, erase it totally (not always possible - someone else might just hold a reference to it then call unmemoizeDomNodeAndDescendants again)\n            }\n        },\n\n        parseMemoText: function (memoText) {\n            var match = memoText.match(/^\\[ko_memo\\:(.*?)\\]$/);\n            return match ? match[1] : null;\n        }\n    };\n})();\n\nko.exportSymbol('memoization', ko.memoization);\nko.exportSymbol('memoization.memoize', ko.memoization.memoize);\nko.exportSymbol('memoization.unmemoize', ko.memoization.unmemoize);\nko.exportSymbol('memoization.parseMemoText', ko.memoization.parseMemoText);\nko.exportSymbol('memoization.unmemoizeDomNodeAndDescendants', ko.memoization.unmemoizeDomNodeAndDescendants);\n"]}