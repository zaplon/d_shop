{"version":3,"sources":["../../../../../../../../../../home/jan/workspace/django_shop/shop/staticfiles/bower_components/knockout/src/utils.js"],"names":[],"mappings":"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","file":"utils-compiled.js","sourcesContent":["ko.utils = (function () {\n    function objectForEach(obj, action) {\n        for (var prop in obj) {\n            if (obj.hasOwnProperty(prop)) {\n                action(prop, obj[prop]);\n            }\n        }\n    }\n\n    function extend(target, source) {\n        if (source) {\n            for(var prop in source) {\n                if(source.hasOwnProperty(prop)) {\n                    target[prop] = source[prop];\n                }\n            }\n        }\n        return target;\n    }\n\n    function setPrototypeOf(obj, proto) {\n        obj.__proto__ = proto;\n        return obj;\n    }\n\n    var canSetPrototype = ({ __proto__: [] } instanceof Array);\n    var canUseSymbols = !DEBUG && typeof Symbol === 'function';\n\n    // Represent the known event types in a compact way, then at runtime transform it into a hash with event name as key (for fast lookup)\n    var knownEvents = {}, knownEventTypesByEventName = {};\n    var keyEventTypeName = (navigator && /Firefox\\/2/i.test(navigator.userAgent)) ? 'KeyboardEvent' : 'UIEvents';\n    knownEvents[keyEventTypeName] = ['keyup', 'keydown', 'keypress'];\n    knownEvents['MouseEvents'] = ['click', 'dblclick', 'mousedown', 'mouseup', 'mousemove', 'mouseover', 'mouseout', 'mouseenter', 'mouseleave'];\n    objectForEach(knownEvents, function(eventType, knownEventsForType) {\n        if (knownEventsForType.length) {\n            for (var i = 0, j = knownEventsForType.length; i < j; i++)\n                knownEventTypesByEventName[knownEventsForType[i]] = eventType;\n        }\n    });\n    var eventsThatMustBeRegisteredUsingAttachEvent = { 'propertychange': true }; // Workaround for an IE9 issue - https://github.com/SteveSanderson/knockout/issues/406\n\n    // Detect IE versions for bug workarounds (uses IE conditionals, not UA string, for robustness)\n    // Note that, since IE 10 does not support conditional comments, the following logic only detects IE < 10.\n    // Currently this is by design, since IE 10+ behaves correctly when treated as a standard browser.\n    // If there is a future need to detect specific versions of IE10+, we will amend this.\n    var ieVersion = document && (function() {\n        var version = 3, div = document.createElement('div'), iElems = div.getElementsByTagName('i');\n\n        // Keep constructing conditional HTML blocks until we hit one that resolves to an empty fragment\n        while (\n            div.innerHTML = '<!--[if gt IE ' + (++version) + ']><i></i><![endif]-->',\n            iElems[0]\n        ) {}\n        return version > 4 ? version : undefined;\n    }());\n    var isIe6 = ieVersion === 6,\n        isIe7 = ieVersion === 7;\n\n    function isClickOnCheckableElement(element, eventType) {\n        if ((ko.utils.tagNameLower(element) !== \"input\") || !element.type) return false;\n        if (eventType.toLowerCase() != \"click\") return false;\n        var inputType = element.type;\n        return (inputType == \"checkbox\") || (inputType == \"radio\");\n    }\n\n    // For details on the pattern for changing node classes\n    // see: https://github.com/knockout/knockout/issues/1597\n    var cssClassNameRegex = /\\S+/g;\n\n    function toggleDomNodeCssClass(node, classNames, shouldHaveClass) {\n        var addOrRemoveFn;\n        if (classNames) {\n            if (typeof node.classList === 'object') {\n                addOrRemoveFn = node.classList[shouldHaveClass ? 'add' : 'remove'];\n                ko.utils.arrayForEach(classNames.match(cssClassNameRegex), function(className) {\n                    addOrRemoveFn.call(node.classList, className);\n                });\n            } else if (typeof node.className['baseVal'] === 'string') {\n                // SVG tag .classNames is an SVGAnimatedString instance\n                toggleObjectClassPropertyString(node.className, 'baseVal', classNames, shouldHaveClass);\n            } else {\n                // node.className ought to be a string.\n                toggleObjectClassPropertyString(node, 'className', classNames, shouldHaveClass);\n            }\n        }\n    }\n\n    function toggleObjectClassPropertyString(obj, prop, classNames, shouldHaveClass) {\n        // obj/prop is either a node/'className' or a SVGAnimatedString/'baseVal'.\n        var currentClassNames = obj[prop].match(cssClassNameRegex) || [];\n        ko.utils.arrayForEach(classNames.match(cssClassNameRegex), function(className) {\n            ko.utils.addOrRemoveItem(currentClassNames, className, shouldHaveClass);\n        });\n        obj[prop] = currentClassNames.join(\" \");\n    }\n\n    return {\n        fieldsIncludedWithJsonPost: ['authenticity_token', /^__RequestVerificationToken(_.*)?$/],\n\n        arrayForEach: function (array, action) {\n            for (var i = 0, j = array.length; i < j; i++)\n                action(array[i], i);\n        },\n\n        arrayIndexOf: function (array, item) {\n            if (typeof Array.prototype.indexOf == \"function\")\n                return Array.prototype.indexOf.call(array, item);\n            for (var i = 0, j = array.length; i < j; i++)\n                if (array[i] === item)\n                    return i;\n            return -1;\n        },\n\n        arrayFirst: function (array, predicate, predicateOwner) {\n            for (var i = 0, j = array.length; i < j; i++)\n                if (predicate.call(predicateOwner, array[i], i))\n                    return array[i];\n            return null;\n        },\n\n        arrayRemoveItem: function (array, itemToRemove) {\n            var index = ko.utils.arrayIndexOf(array, itemToRemove);\n            if (index > 0) {\n                array.splice(index, 1);\n            }\n            else if (index === 0) {\n                array.shift();\n            }\n        },\n\n        arrayGetDistinctValues: function (array) {\n            array = array || [];\n            var result = [];\n            for (var i = 0, j = array.length; i < j; i++) {\n                if (ko.utils.arrayIndexOf(result, array[i]) < 0)\n                    result.push(array[i]);\n            }\n            return result;\n        },\n\n        arrayMap: function (array, mapping) {\n            array = array || [];\n            var result = [];\n            for (var i = 0, j = array.length; i < j; i++)\n                result.push(mapping(array[i], i));\n            return result;\n        },\n\n        arrayFilter: function (array, predicate) {\n            array = array || [];\n            var result = [];\n            for (var i = 0, j = array.length; i < j; i++)\n                if (predicate(array[i], i))\n                    result.push(array[i]);\n            return result;\n        },\n\n        arrayPushAll: function (array, valuesToPush) {\n            if (valuesToPush instanceof Array)\n                array.push.apply(array, valuesToPush);\n            else\n                for (var i = 0, j = valuesToPush.length; i < j; i++)\n                    array.push(valuesToPush[i]);\n            return array;\n        },\n\n        addOrRemoveItem: function(array, value, included) {\n            var existingEntryIndex = ko.utils.arrayIndexOf(ko.utils.peekObservable(array), value);\n            if (existingEntryIndex < 0) {\n                if (included)\n                    array.push(value);\n            } else {\n                if (!included)\n                    array.splice(existingEntryIndex, 1);\n            }\n        },\n\n        canSetPrototype: canSetPrototype,\n\n        extend: extend,\n\n        setPrototypeOf: setPrototypeOf,\n\n        setPrototypeOfOrExtend: canSetPrototype ? setPrototypeOf : extend,\n\n        objectForEach: objectForEach,\n\n        objectMap: function(source, mapping) {\n            if (!source)\n                return source;\n            var target = {};\n            for (var prop in source) {\n                if (source.hasOwnProperty(prop)) {\n                    target[prop] = mapping(source[prop], prop, source);\n                }\n            }\n            return target;\n        },\n\n        emptyDomNode: function (domNode) {\n            while (domNode.firstChild) {\n                ko.removeNode(domNode.firstChild);\n            }\n        },\n\n        moveCleanedNodesToContainerElement: function(nodes) {\n            // Ensure it's a real array, as we're about to reparent the nodes and\n            // we don't want the underlying collection to change while we're doing that.\n            var nodesArray = ko.utils.makeArray(nodes);\n            var templateDocument = (nodesArray[0] && nodesArray[0].ownerDocument) || document;\n\n            var container = templateDocument.createElement('div');\n            for (var i = 0, j = nodesArray.length; i < j; i++) {\n                container.appendChild(ko.cleanNode(nodesArray[i]));\n            }\n            return container;\n        },\n\n        cloneNodes: function (nodesArray, shouldCleanNodes) {\n            for (var i = 0, j = nodesArray.length, newNodesArray = []; i < j; i++) {\n                var clonedNode = nodesArray[i].cloneNode(true);\n                newNodesArray.push(shouldCleanNodes ? ko.cleanNode(clonedNode) : clonedNode);\n            }\n            return newNodesArray;\n        },\n\n        setDomNodeChildren: function (domNode, childNodes) {\n            ko.utils.emptyDomNode(domNode);\n            if (childNodes) {\n                for (var i = 0, j = childNodes.length; i < j; i++)\n                    domNode.appendChild(childNodes[i]);\n            }\n        },\n\n        replaceDomNodes: function (nodeToReplaceOrNodeArray, newNodesArray) {\n            var nodesToReplaceArray = nodeToReplaceOrNodeArray.nodeType ? [nodeToReplaceOrNodeArray] : nodeToReplaceOrNodeArray;\n            if (nodesToReplaceArray.length > 0) {\n                var insertionPoint = nodesToReplaceArray[0];\n                var parent = insertionPoint.parentNode;\n                for (var i = 0, j = newNodesArray.length; i < j; i++)\n                    parent.insertBefore(newNodesArray[i], insertionPoint);\n                for (var i = 0, j = nodesToReplaceArray.length; i < j; i++) {\n                    ko.removeNode(nodesToReplaceArray[i]);\n                }\n            }\n        },\n\n        fixUpContinuousNodeArray: function(continuousNodeArray, parentNode) {\n            // Before acting on a set of nodes that were previously outputted by a template function, we have to reconcile\n            // them against what is in the DOM right now. It may be that some of the nodes have already been removed, or that\n            // new nodes might have been inserted in the middle, for example by a binding. Also, there may previously have been\n            // leading comment nodes (created by rewritten string-based templates) that have since been removed during binding.\n            // So, this function translates the old \"map\" output array into its best guess of the set of current DOM nodes.\n            //\n            // Rules:\n            //   [A] Any leading nodes that have been removed should be ignored\n            //       These most likely correspond to memoization nodes that were already removed during binding\n            //       See https://github.com/knockout/knockout/pull/440\n            //   [B] Any trailing nodes that have been remove should be ignored\n            //       This prevents the code here from adding unrelated nodes to the array while processing rule [C]\n            //       See https://github.com/knockout/knockout/pull/1903\n            //   [C] We want to output a continuous series of nodes. So, ignore any nodes that have already been removed,\n            //       and include any nodes that have been inserted among the previous collection\n\n            if (continuousNodeArray.length) {\n                // The parent node can be a virtual element; so get the real parent node\n                parentNode = (parentNode.nodeType === 8 && parentNode.parentNode) || parentNode;\n\n                // Rule [A]\n                while (continuousNodeArray.length && continuousNodeArray[0].parentNode !== parentNode)\n                    continuousNodeArray.splice(0, 1);\n\n                // Rule [B]\n                while (continuousNodeArray.length > 1 && continuousNodeArray[continuousNodeArray.length - 1].parentNode !== parentNode)\n                    continuousNodeArray.length--;\n\n                // Rule [C]\n                if (continuousNodeArray.length > 1) {\n                    var current = continuousNodeArray[0], last = continuousNodeArray[continuousNodeArray.length - 1];\n                    // Replace with the actual new continuous node set\n                    continuousNodeArray.length = 0;\n                    while (current !== last) {\n                        continuousNodeArray.push(current);\n                        current = current.nextSibling;\n                    }\n                    continuousNodeArray.push(last);\n                }\n            }\n            return continuousNodeArray;\n        },\n\n        setOptionNodeSelectionState: function (optionNode, isSelected) {\n            // IE6 sometimes throws \"unknown error\" if you try to write to .selected directly, whereas Firefox struggles with setAttribute. Pick one based on browser.\n            if (ieVersion < 7)\n                optionNode.setAttribute(\"selected\", isSelected);\n            else\n                optionNode.selected = isSelected;\n        },\n\n        stringTrim: function (string) {\n            return string === null || string === undefined ? '' :\n                string.trim ?\n                    string.trim() :\n                    string.toString().replace(/^[\\s\\xa0]+|[\\s\\xa0]+$/g, '');\n        },\n\n        stringStartsWith: function (string, startsWith) {\n            string = string || \"\";\n            if (startsWith.length > string.length)\n                return false;\n            return string.substring(0, startsWith.length) === startsWith;\n        },\n\n        domNodeIsContainedBy: function (node, containedByNode) {\n            if (node === containedByNode)\n                return true;\n            if (node.nodeType === 11)\n                return false; // Fixes issue #1162 - can't use node.contains for document fragments on IE8\n            if (containedByNode.contains)\n                return containedByNode.contains(node.nodeType === 3 ? node.parentNode : node);\n            if (containedByNode.compareDocumentPosition)\n                return (containedByNode.compareDocumentPosition(node) & 16) == 16;\n            while (node && node != containedByNode) {\n                node = node.parentNode;\n            }\n            return !!node;\n        },\n\n        domNodeIsAttachedToDocument: function (node) {\n            return ko.utils.domNodeIsContainedBy(node, node.ownerDocument.documentElement);\n        },\n\n        anyDomNodeIsAttachedToDocument: function(nodes) {\n            return !!ko.utils.arrayFirst(nodes, ko.utils.domNodeIsAttachedToDocument);\n        },\n\n        tagNameLower: function(element) {\n            // For HTML elements, tagName will always be upper case; for XHTML elements, it'll be lower case.\n            // Possible future optimization: If we know it's an element from an XHTML document (not HTML),\n            // we don't need to do the .toLowerCase() as it will always be lower case anyway.\n            return element && element.tagName && element.tagName.toLowerCase();\n        },\n\n        catchFunctionErrors: function (delegate) {\n            return ko['onError'] ? function () {\n                try {\n                    return delegate.apply(this, arguments);\n                } catch (e) {\n                    ko['onError'] && ko['onError'](e);\n                    throw e;\n                }\n            } : delegate;\n        },\n\n        setTimeout: function (handler, timeout) {\n            return setTimeout(ko.utils.catchFunctionErrors(handler), timeout);\n        },\n\n        deferError: function (error) {\n            setTimeout(function () {\n                ko['onError'] && ko['onError'](error);\n                throw error;\n            }, 0);\n        },\n\n        registerEventHandler: function (element, eventType, handler) {\n            var wrappedHandler = ko.utils.catchFunctionErrors(handler);\n\n            var mustUseAttachEvent = ieVersion && eventsThatMustBeRegisteredUsingAttachEvent[eventType];\n            if (!ko.options['useOnlyNativeEvents'] && !mustUseAttachEvent && jQueryInstance) {\n                jQueryInstance(element)['bind'](eventType, wrappedHandler);\n            } else if (!mustUseAttachEvent && typeof element.addEventListener == \"function\")\n                element.addEventListener(eventType, wrappedHandler, false);\n            else if (typeof element.attachEvent != \"undefined\") {\n                var attachEventHandler = function (event) { wrappedHandler.call(element, event); },\n                    attachEventName = \"on\" + eventType;\n                element.attachEvent(attachEventName, attachEventHandler);\n\n                // IE does not dispose attachEvent handlers automatically (unlike with addEventListener)\n                // so to avoid leaks, we have to remove them manually. See bug #856\n                ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\n                    element.detachEvent(attachEventName, attachEventHandler);\n                });\n            } else\n                throw new Error(\"Browser doesn't support addEventListener or attachEvent\");\n        },\n\n        triggerEvent: function (element, eventType) {\n            if (!(element && element.nodeType))\n                throw new Error(\"element must be a DOM node when calling triggerEvent\");\n\n            // For click events on checkboxes and radio buttons, jQuery toggles the element checked state *after* the\n            // event handler runs instead of *before*. (This was fixed in 1.9 for checkboxes but not for radio buttons.)\n            // IE doesn't change the checked state when you trigger the click event using \"fireEvent\".\n            // In both cases, we'll use the click method instead.\n            var useClickWorkaround = isClickOnCheckableElement(element, eventType);\n\n            if (!ko.options['useOnlyNativeEvents'] && jQueryInstance && !useClickWorkaround) {\n                jQueryInstance(element)['trigger'](eventType);\n            } else if (typeof document.createEvent == \"function\") {\n                if (typeof element.dispatchEvent == \"function\") {\n                    var eventCategory = knownEventTypesByEventName[eventType] || \"HTMLEvents\";\n                    var event = document.createEvent(eventCategory);\n                    event.initEvent(eventType, true, true, window, 0, 0, 0, 0, 0, false, false, false, false, 0, element);\n                    element.dispatchEvent(event);\n                }\n                else\n                    throw new Error(\"The supplied element doesn't support dispatchEvent\");\n            } else if (useClickWorkaround && element.click) {\n                element.click();\n            } else if (typeof element.fireEvent != \"undefined\") {\n                element.fireEvent(\"on\" + eventType);\n            } else {\n                throw new Error(\"Browser doesn't support triggering events\");\n            }\n        },\n\n        unwrapObservable: function (value) {\n            return ko.isObservable(value) ? value() : value;\n        },\n\n        peekObservable: function (value) {\n            return ko.isObservable(value) ? value.peek() : value;\n        },\n\n        toggleDomNodeCssClass: toggleDomNodeCssClass,\n\n        setTextContent: function(element, textContent) {\n            var value = ko.utils.unwrapObservable(textContent);\n            if ((value === null) || (value === undefined))\n                value = \"\";\n\n            // We need there to be exactly one child: a text node.\n            // If there are no children, more than one, or if it's not a text node,\n            // we'll clear everything and create a single text node.\n            var innerTextNode = ko.virtualElements.firstChild(element);\n            if (!innerTextNode || innerTextNode.nodeType != 3 || ko.virtualElements.nextSibling(innerTextNode)) {\n                ko.virtualElements.setDomNodeChildren(element, [element.ownerDocument.createTextNode(value)]);\n            } else {\n                innerTextNode.data = value;\n            }\n\n            ko.utils.forceRefresh(element);\n        },\n\n        setElementName: function(element, name) {\n            element.name = name;\n\n            // Workaround IE 6/7 issue\n            // - https://github.com/SteveSanderson/knockout/issues/197\n            // - http://www.matts411.com/post/setting_the_name_attribute_in_ie_dom/\n            if (ieVersion <= 7) {\n                try {\n                    element.mergeAttributes(document.createElement(\"<input name='\" + element.name + \"'/>\"), false);\n                }\n                catch(e) {} // For IE9 with doc mode \"IE9 Standards\" and browser mode \"IE9 Compatibility View\"\n            }\n        },\n\n        forceRefresh: function(node) {\n            // Workaround for an IE9 rendering bug - https://github.com/SteveSanderson/knockout/issues/209\n            if (ieVersion >= 9) {\n                // For text nodes and comment nodes (most likely virtual elements), we will have to refresh the container\n                var elem = node.nodeType == 1 ? node : node.parentNode;\n                if (elem.style)\n                    elem.style.zoom = elem.style.zoom;\n            }\n        },\n\n        ensureSelectElementIsRenderedCorrectly: function(selectElement) {\n            // Workaround for IE9 rendering bug - it doesn't reliably display all the text in dynamically-added select boxes unless you force it to re-render by updating the width.\n            // (See https://github.com/SteveSanderson/knockout/issues/312, http://stackoverflow.com/questions/5908494/select-only-shows-first-char-of-selected-option)\n            // Also fixes IE7 and IE8 bug that causes selects to be zero width if enclosed by 'if' or 'with'. (See issue #839)\n            if (ieVersion) {\n                var originalWidth = selectElement.style.width;\n                selectElement.style.width = 0;\n                selectElement.style.width = originalWidth;\n            }\n        },\n\n        range: function (min, max) {\n            min = ko.utils.unwrapObservable(min);\n            max = ko.utils.unwrapObservable(max);\n            var result = [];\n            for (var i = min; i <= max; i++)\n                result.push(i);\n            return result;\n        },\n\n        makeArray: function(arrayLikeObject) {\n            var result = [];\n            for (var i = 0, j = arrayLikeObject.length; i < j; i++) {\n                result.push(arrayLikeObject[i]);\n            };\n            return result;\n        },\n\n        createSymbolOrString: function(identifier) {\n            return canUseSymbols ? Symbol(identifier) : identifier;\n        },\n\n        isIe6 : isIe6,\n        isIe7 : isIe7,\n        ieVersion : ieVersion,\n\n        getFormFields: function(form, fieldName) {\n            var fields = ko.utils.makeArray(form.getElementsByTagName(\"input\")).concat(ko.utils.makeArray(form.getElementsByTagName(\"textarea\")));\n            var isMatchingField = (typeof fieldName == 'string')\n                ? function(field) { return field.name === fieldName }\n                : function(field) { return fieldName.test(field.name) }; // Treat fieldName as regex or object containing predicate\n            var matches = [];\n            for (var i = fields.length - 1; i >= 0; i--) {\n                if (isMatchingField(fields[i]))\n                    matches.push(fields[i]);\n            };\n            return matches;\n        },\n\n        parseJson: function (jsonString) {\n            if (typeof jsonString == \"string\") {\n                jsonString = ko.utils.stringTrim(jsonString);\n                if (jsonString) {\n                    if (JSON && JSON.parse) // Use native parsing where available\n                        return JSON.parse(jsonString);\n                    return (new Function(\"return \" + jsonString))(); // Fallback on less safe parsing for older browsers\n                }\n            }\n            return null;\n        },\n\n        stringifyJson: function (data, replacer, space) {   // replacer and space are optional\n            if (!JSON || !JSON.stringify)\n                throw new Error(\"Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js\");\n            return JSON.stringify(ko.utils.unwrapObservable(data), replacer, space);\n        },\n\n        postJson: function (urlOrForm, data, options) {\n            options = options || {};\n            var params = options['params'] || {};\n            var includeFields = options['includeFields'] || this.fieldsIncludedWithJsonPost;\n            var url = urlOrForm;\n\n            // If we were given a form, use its 'action' URL and pick out any requested field values\n            if((typeof urlOrForm == 'object') && (ko.utils.tagNameLower(urlOrForm) === \"form\")) {\n                var originalForm = urlOrForm;\n                url = originalForm.action;\n                for (var i = includeFields.length - 1; i >= 0; i--) {\n                    var fields = ko.utils.getFormFields(originalForm, includeFields[i]);\n                    for (var j = fields.length - 1; j >= 0; j--)\n                        params[fields[j].name] = fields[j].value;\n                }\n            }\n\n            data = ko.utils.unwrapObservable(data);\n            var form = document.createElement(\"form\");\n            form.style.display = \"none\";\n            form.action = url;\n            form.method = \"post\";\n            for (var key in data) {\n                // Since 'data' this is a model object, we include all properties including those inherited from its prototype\n                var input = document.createElement(\"input\");\n                input.type = \"hidden\";\n                input.name = key;\n                input.value = ko.utils.stringifyJson(ko.utils.unwrapObservable(data[key]));\n                form.appendChild(input);\n            }\n            objectForEach(params, function(key, value) {\n                var input = document.createElement(\"input\");\n                input.type = \"hidden\";\n                input.name = key;\n                input.value = value;\n                form.appendChild(input);\n            });\n            document.body.appendChild(form);\n            options['submitter'] ? options['submitter'](form) : form.submit();\n            setTimeout(function () { form.parentNode.removeChild(form); }, 0);\n        }\n    }\n}());\n\nko.exportSymbol('utils', ko.utils);\nko.exportSymbol('utils.arrayForEach', ko.utils.arrayForEach);\nko.exportSymbol('utils.arrayFirst', ko.utils.arrayFirst);\nko.exportSymbol('utils.arrayFilter', ko.utils.arrayFilter);\nko.exportSymbol('utils.arrayGetDistinctValues', ko.utils.arrayGetDistinctValues);\nko.exportSymbol('utils.arrayIndexOf', ko.utils.arrayIndexOf);\nko.exportSymbol('utils.arrayMap', ko.utils.arrayMap);\nko.exportSymbol('utils.arrayPushAll', ko.utils.arrayPushAll);\nko.exportSymbol('utils.arrayRemoveItem', ko.utils.arrayRemoveItem);\nko.exportSymbol('utils.extend', ko.utils.extend);\nko.exportSymbol('utils.fieldsIncludedWithJsonPost', ko.utils.fieldsIncludedWithJsonPost);\nko.exportSymbol('utils.getFormFields', ko.utils.getFormFields);\nko.exportSymbol('utils.peekObservable', ko.utils.peekObservable);\nko.exportSymbol('utils.postJson', ko.utils.postJson);\nko.exportSymbol('utils.parseJson', ko.utils.parseJson);\nko.exportSymbol('utils.registerEventHandler', ko.utils.registerEventHandler);\nko.exportSymbol('utils.stringifyJson', ko.utils.stringifyJson);\nko.exportSymbol('utils.range', ko.utils.range);\nko.exportSymbol('utils.toggleDomNodeCssClass', ko.utils.toggleDomNodeCssClass);\nko.exportSymbol('utils.triggerEvent', ko.utils.triggerEvent);\nko.exportSymbol('utils.unwrapObservable', ko.utils.unwrapObservable);\nko.exportSymbol('utils.objectForEach', ko.utils.objectForEach);\nko.exportSymbol('utils.addOrRemoveItem', ko.utils.addOrRemoveItem);\nko.exportSymbol('utils.setTextContent', ko.utils.setTextContent);\nko.exportSymbol('unwrap', ko.utils.unwrapObservable); // Convenient shorthand, because this is used so commonly\n\nif (!Function.prototype['bind']) {\n    // Function.prototype.bind is a standard part of ECMAScript 5th Edition (December 2009, http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-262.pdf)\n    // In case the browser doesn't implement it natively, provide a JavaScript implementation. This implementation is based on the one in prototype.js\n    Function.prototype['bind'] = function (object) {\n        var originalFunction = this;\n        if (arguments.length === 1) {\n            return function () {\n                return originalFunction.apply(object, arguments);\n            };\n        } else {\n            var partialArgs = Array.prototype.slice.call(arguments, 1);\n            return function () {\n                var args = partialArgs.slice(0);\n                args.push.apply(args, arguments);\n                return originalFunction.apply(object, args);\n            };\n        }\n    };\n}\n"]}