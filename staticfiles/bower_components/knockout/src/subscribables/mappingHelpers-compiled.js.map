{"version":3,"sources":["../../../../../../../../../../../home/jan/workspace/django_shop/shop/staticfiles/bower_components/knockout/src/subscribables/mappingHelpers.js"],"names":[],"mappings":"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","file":"mappingHelpers-compiled.js","sourcesContent":["\n(function() {\n    var maxNestedObservableDepth = 10; // Escape the (unlikely) pathalogical case where an observable's current value is itself (or similar reference cycle)\n\n    ko.toJS = function(rootObject) {\n        if (arguments.length == 0)\n            throw new Error(\"When calling ko.toJS, pass the object you want to convert.\");\n\n        // We just unwrap everything at every level in the object graph\n        return mapJsObjectGraph(rootObject, function(valueToMap) {\n            // Loop because an observable's value might in turn be another observable wrapper\n            for (var i = 0; ko.isObservable(valueToMap) && (i < maxNestedObservableDepth); i++)\n                valueToMap = valueToMap();\n            return valueToMap;\n        });\n    };\n\n    ko.toJSON = function(rootObject, replacer, space) {     // replacer and space are optional\n        var plainJavaScriptObject = ko.toJS(rootObject);\n        return ko.utils.stringifyJson(plainJavaScriptObject, replacer, space);\n    };\n\n    function mapJsObjectGraph(rootObject, mapInputCallback, visitedObjects) {\n        visitedObjects = visitedObjects || new objectLookup();\n\n        rootObject = mapInputCallback(rootObject);\n        var canHaveProperties = (typeof rootObject == \"object\") && (rootObject !== null) && (rootObject !== undefined) && (!(rootObject instanceof RegExp)) && (!(rootObject instanceof Date)) && (!(rootObject instanceof String)) && (!(rootObject instanceof Number)) && (!(rootObject instanceof Boolean));\n        if (!canHaveProperties)\n            return rootObject;\n\n        var outputProperties = rootObject instanceof Array ? [] : {};\n        visitedObjects.save(rootObject, outputProperties);\n\n        visitPropertiesOrArrayEntries(rootObject, function(indexer) {\n            var propertyValue = mapInputCallback(rootObject[indexer]);\n\n            switch (typeof propertyValue) {\n                case \"boolean\":\n                case \"number\":\n                case \"string\":\n                case \"function\":\n                    outputProperties[indexer] = propertyValue;\n                    break;\n                case \"object\":\n                case \"undefined\":\n                    var previouslyMappedValue = visitedObjects.get(propertyValue);\n                    outputProperties[indexer] = (previouslyMappedValue !== undefined)\n                        ? previouslyMappedValue\n                        : mapJsObjectGraph(propertyValue, mapInputCallback, visitedObjects);\n                    break;\n            }\n        });\n\n        return outputProperties;\n    }\n\n    function visitPropertiesOrArrayEntries(rootObject, visitorCallback) {\n        if (rootObject instanceof Array) {\n            for (var i = 0; i < rootObject.length; i++)\n                visitorCallback(i);\n\n            // For arrays, also respect toJSON property for custom mappings (fixes #278)\n            if (typeof rootObject['toJSON'] == 'function')\n                visitorCallback('toJSON');\n        } else {\n            for (var propertyName in rootObject) {\n                visitorCallback(propertyName);\n            }\n        }\n    };\n\n    function objectLookup() {\n        this.keys = [];\n        this.values = [];\n    };\n\n    objectLookup.prototype = {\n        constructor: objectLookup,\n        save: function(key, value) {\n            var existingIndex = ko.utils.arrayIndexOf(this.keys, key);\n            if (existingIndex >= 0)\n                this.values[existingIndex] = value;\n            else {\n                this.keys.push(key);\n                this.values.push(value);\n            }\n        },\n        get: function(key) {\n            var existingIndex = ko.utils.arrayIndexOf(this.keys, key);\n            return (existingIndex >= 0) ? this.values[existingIndex] : undefined;\n        }\n    };\n})();\n\nko.exportSymbol('toJS', ko.toJS);\nko.exportSymbol('toJSON', ko.toJSON);\n"]}