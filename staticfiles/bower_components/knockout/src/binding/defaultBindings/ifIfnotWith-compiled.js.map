{"version":3,"sources":["../../../../../../../../../../../../home/jan/workspace/django_shop/shop/staticfiles/bower_components/knockout/src/binding/defaultBindings/ifIfnotWith.js"],"names":[],"mappings":"AAAA;AACA,SAAS,iBAAT,CAA2B,UAA3B,EAAuC,MAAvC,EAA+C,KAA/C,EAAsD,mBAAtD,EAA2E;AACvE,OAAG,eAAH,CAAmB,UAAnB,IAAiC;AAC7B,gBAAQ,UAAS,OAAT,EAAkB,aAAlB,EAAiC,WAAjC,EAA8C,SAA9C,EAAyD,cAAzD,EAAyE;AAC7E,gBAAI,sBAAJ,EACI,UADJ;AAEA,eAAG,QAAH,CAAY,YAAW;AACnB,oBAAI,YAAY,GAAG,KAAH,CAAS,gBAAT,CAA0B,eAA1B,CAAhB;AAAA,oBACI,gBAAgB,CAAC,KAAD,KAAW,CAAC,SADhC;AAAA,oBAC2C;AACvC,gCAAgB,CAAC,UAFrB;AAAA,oBAGI,eAAe,iBAAiB,MAAjB,IAA4B,kBAAkB,sBAHjE;;AAKA,oBAAI,YAAJ,EAAkB;AACd;AACA,wBAAI,iBAAiB,GAAG,eAAH,CAAmB,oBAAnB,EAArB,EAAgE;AAC5D,qCAAa,GAAG,KAAH,CAAS,UAAT,CAAoB,GAAG,eAAH,CAAmB,UAAnB,CAA8B,OAA9B,CAApB,EAA4D,IAAK,uBAAjE,CAAb;AACH;;AAED,wBAAI,aAAJ,EAAmB;AACf,4BAAI,CAAC,aAAL,EAAoB;AAChB,+BAAG,eAAH,CAAmB,kBAAnB,CAAsC,OAAtC,EAA+C,GAAG,KAAH,CAAS,UAAT,CAAoB,UAApB,CAA/C;AACH;AACD,2BAAG,0BAAH,CAA8B,sBAAsB,oBAAoB,cAApB,EAAoC,SAApC,CAAtB,GAAuE,cAArG,EAAqH,OAArH;AACH,qBALD,MAKO;AACH,2BAAG,eAAH,CAAmB,SAAnB,CAA6B,OAA7B;AACH;;AAED,6CAAyB,aAAzB;AACH;AACJ,aAvBD,EAuBG,IAvBH,EAuBS,EAAE,0BAA0B,OAA5B,EAvBT;AAwBA,mBAAO,EAAE,8BAA8B,IAAhC,EAAP;AACH;AA7B4B,KAAjC;AA+BA,OAAG,mBAAH,CAAuB,wBAAvB,CAAgD,UAAhD,IAA8D,KAA9D,CAAqE;AACrE,OAAG,eAAH,CAAmB,eAAnB,CAAmC,UAAnC,IAAiD,IAAjD;AACH;;AAED;AACA,kBAAkB,IAAlB;AACA,kBAAkB,OAAlB,EAA2B,KAAM,aAAjC,EAA+C,IAAK,YAApD;AACA,kBAAkB,MAAlB,EAA0B,IAAK,aAA/B,EAA6C,KAAM;AAAnD,EACI,UAAS,cAAT,EAAyB,SAAzB,EAAoC;AAChC,WAAO,eAAe,oBAAf,EAAqC,SAArC,CAAP;AACH,CAHL","file":"ifIfnotWith-compiled.js","sourcesContent":["// Makes a binding like with or if\nfunction makeWithIfBinding(bindingKey, isWith, isNot, makeContextCallback) {\n    ko.bindingHandlers[bindingKey] = {\n        'init': function(element, valueAccessor, allBindings, viewModel, bindingContext) {\n            var didDisplayOnLastUpdate,\n                savedNodes;\n            ko.computed(function() {\n                var dataValue = ko.utils.unwrapObservable(valueAccessor()),\n                    shouldDisplay = !isNot !== !dataValue, // equivalent to isNot ? !dataValue : !!dataValue\n                    isFirstRender = !savedNodes,\n                    needsRefresh = isFirstRender || isWith || (shouldDisplay !== didDisplayOnLastUpdate);\n\n                if (needsRefresh) {\n                    // Save a copy of the inner nodes on the initial update, but only if we have dependencies.\n                    if (isFirstRender && ko.computedContext.getDependenciesCount()) {\n                        savedNodes = ko.utils.cloneNodes(ko.virtualElements.childNodes(element), true /* shouldCleanNodes */);\n                    }\n\n                    if (shouldDisplay) {\n                        if (!isFirstRender) {\n                            ko.virtualElements.setDomNodeChildren(element, ko.utils.cloneNodes(savedNodes));\n                        }\n                        ko.applyBindingsToDescendants(makeContextCallback ? makeContextCallback(bindingContext, dataValue) : bindingContext, element);\n                    } else {\n                        ko.virtualElements.emptyNode(element);\n                    }\n\n                    didDisplayOnLastUpdate = shouldDisplay;\n                }\n            }, null, { disposeWhenNodeIsRemoved: element });\n            return { 'controlsDescendantBindings': true };\n        }\n    };\n    ko.expressionRewriting.bindingRewriteValidators[bindingKey] = false; // Can't rewrite control flow bindings\n    ko.virtualElements.allowedBindings[bindingKey] = true;\n}\n\n// Construct the actual binding handlers\nmakeWithIfBinding('if');\nmakeWithIfBinding('ifnot', false /* isWith */, true /* isNot */);\nmakeWithIfBinding('with', true /* isWith */, false /* isNot */,\n    function(bindingContext, dataValue) {\n        return bindingContext['createChildContext'](dataValue);\n    }\n);\n"]}