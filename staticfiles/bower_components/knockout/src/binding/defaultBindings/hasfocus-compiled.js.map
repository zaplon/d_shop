{"version":3,"sources":["../../../../../../../../../../../../home/jan/workspace/django_shop/shop/staticfiles/bower_components/knockout/src/binding/defaultBindings/hasfocus.js"],"names":[],"mappings":"AAAA,IAAI,2BAA2B,uBAA/B;AACA,IAAI,oBAAoB,wBAAxB;AACA,GAAG,eAAH,CAAmB,UAAnB,IAAiC;AAC7B,YAAQ,UAAS,OAAT,EAAkB,aAAlB,EAAiC,WAAjC,EAA8C;AAClD,YAAI,2BAA2B,UAAS,SAAT,EAAoB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,oBAAQ,wBAAR,IAAoC,IAApC;AACA,gBAAI,WAAW,QAAQ,aAAvB;AACA,gBAAI,mBAAmB,QAAvB,EAAiC;AAC7B,oBAAI,MAAJ;AACA,oBAAI;AACA,6BAAS,SAAS,aAAlB;AACH,iBAFD,CAEE,OAAM,CAAN,EAAS;AACP;AACA,6BAAS,SAAS,IAAlB;AACH;AACD,4BAAa,WAAW,OAAxB;AACH;AACD,gBAAI,aAAa,eAAjB;AACA,eAAG,mBAAH,CAAuB,oBAAvB,CAA4C,UAA5C,EAAwD,WAAxD,EAAqE,UAArE,EAAiF,SAAjF,EAA4F,IAA5F;;AAEA;AACA,oBAAQ,iBAAR,IAA6B,SAA7B;AACA,oBAAQ,wBAAR,IAAoC,KAApC;AACH,SAzBD;AA0BA,YAAI,uBAAuB,yBAAyB,IAAzB,CAA8B,IAA9B,EAAoC,IAApC,CAA3B;AACA,YAAI,wBAAwB,yBAAyB,IAAzB,CAA8B,IAA9B,EAAoC,KAApC,CAA5B;;AAEA,WAAG,KAAH,CAAS,oBAAT,CAA8B,OAA9B,EAAuC,OAAvC,EAAgD,oBAAhD;AACA,WAAG,KAAH,CAAS,oBAAT,CAA8B,OAA9B,EAAuC,SAAvC,EAAkD,oBAAlD,EAAyE;AACzE,WAAG,KAAH,CAAS,oBAAT,CAA8B,OAA9B,EAAuC,MAAvC,EAAgD,qBAAhD;AACA,WAAG,KAAH,CAAS,oBAAT,CAA8B,OAA9B,EAAuC,UAAvC,EAAoD,qBAApD,EAA4E;AAC/E,KAnC4B;AAoC7B,cAAU,UAAS,OAAT,EAAkB,aAAlB,EAAiC;AACvC,YAAI,QAAQ,CAAC,CAAC,GAAG,KAAH,CAAS,gBAAT,CAA0B,eAA1B,CAAd;;AAEA,YAAI,CAAC,QAAQ,wBAAR,CAAD,IAAsC,QAAQ,iBAAR,MAA+B,KAAzE,EAAgF;AAC5E,oBAAQ,QAAQ,KAAR,EAAR,GAA0B,QAAQ,IAAR,EAA1B;;AAEA;AACA;AACA;AACA,gBAAI,CAAC,KAAD,IAAU,QAAQ,iBAAR,CAAd,EAA0C;AACtC,wBAAQ,aAAR,CAAsB,IAAtB,CAA2B,KAA3B;AACH;;AAED;AACA,eAAG,mBAAH,CAAuB,MAAvB,CAA8B,GAAG,KAAH,CAAS,YAAvC,EAAqD,IAArD,EAA2D,CAAC,OAAD,EAAU,QAAQ,SAAR,GAAoB,UAA9B,CAA3D;AACH;AACJ;AApD4B,CAAjC;AAsDA,GAAG,mBAAH,CAAuB,cAAvB,CAAsC,UAAtC,IAAoD,IAApD;;AAEA,GAAG,eAAH,CAAmB,UAAnB,IAAiC,GAAG,eAAH,CAAmB,UAAnB,CAAjC,CAAiE;AACjE,GAAG,mBAAH,CAAuB,cAAvB,CAAsC,UAAtC,IAAoD,IAApD","file":"hasfocus-compiled.js","sourcesContent":["var hasfocusUpdatingProperty = '__ko_hasfocusUpdating';\nvar hasfocusLastValue = '__ko_hasfocusLastValue';\nko.bindingHandlers['hasfocus'] = {\n    'init': function(element, valueAccessor, allBindings) {\n        var handleElementFocusChange = function(isFocused) {\n            // Where possible, ignore which event was raised and determine focus state using activeElement,\n            // as this avoids phantom focus/blur events raised when changing tabs in modern browsers.\n            // However, not all KO-targeted browsers (Firefox 2) support activeElement. For those browsers,\n            // prevent a loss of focus when changing tabs/windows by setting a flag that prevents hasfocus\n            // from calling 'blur()' on the element when it loses focus.\n            // Discussion at https://github.com/SteveSanderson/knockout/pull/352\n            element[hasfocusUpdatingProperty] = true;\n            var ownerDoc = element.ownerDocument;\n            if (\"activeElement\" in ownerDoc) {\n                var active;\n                try {\n                    active = ownerDoc.activeElement;\n                } catch(e) {\n                    // IE9 throws if you access activeElement during page load (see issue #703)\n                    active = ownerDoc.body;\n                }\n                isFocused = (active === element);\n            }\n            var modelValue = valueAccessor();\n            ko.expressionRewriting.writeValueToProperty(modelValue, allBindings, 'hasfocus', isFocused, true);\n\n            //cache the latest value, so we can avoid unnecessarily calling focus/blur in the update function\n            element[hasfocusLastValue] = isFocused;\n            element[hasfocusUpdatingProperty] = false;\n        };\n        var handleElementFocusIn = handleElementFocusChange.bind(null, true);\n        var handleElementFocusOut = handleElementFocusChange.bind(null, false);\n\n        ko.utils.registerEventHandler(element, \"focus\", handleElementFocusIn);\n        ko.utils.registerEventHandler(element, \"focusin\", handleElementFocusIn); // For IE\n        ko.utils.registerEventHandler(element, \"blur\",  handleElementFocusOut);\n        ko.utils.registerEventHandler(element, \"focusout\",  handleElementFocusOut); // For IE\n    },\n    'update': function(element, valueAccessor) {\n        var value = !!ko.utils.unwrapObservable(valueAccessor());\n\n        if (!element[hasfocusUpdatingProperty] && element[hasfocusLastValue] !== value) {\n            value ? element.focus() : element.blur();\n\n            // In IE, the blur method doesn't always cause the element to lose focus (for example, if the window is not in focus).\n            // Setting focus to the body element does seem to be reliable in IE, but should only be used if we know that the current\n            // element was focused already.\n            if (!value && element[hasfocusLastValue]) {\n                element.ownerDocument.body.focus();\n            }\n\n            // For IE, which doesn't reliably fire \"focus\" or \"blur\" events synchronously\n            ko.dependencyDetection.ignore(ko.utils.triggerEvent, null, [element, value ? \"focusin\" : \"focusout\"]);\n        }\n    }\n};\nko.expressionRewriting.twoWayBindings['hasfocus'] = true;\n\nko.bindingHandlers['hasFocus'] = ko.bindingHandlers['hasfocus']; // Make \"hasFocus\" an alias\nko.expressionRewriting.twoWayBindings['hasFocus'] = true;\n"]}